ASP Ä°LE Ä°LGÄ°LÄ° BÄ°LGÄ°LER...
.............................................................................................
_ViewModelImports.cshtml iÃ§erisine istenen namespaceleri eklersek eÄŸer o zaman her yerden eriÅŸilebilir olur o namespace iÃ§indekiler.

@using turkcell1.Web.ProductViewModel 
@using turkcell1.Web
@using turkcell1.Web.Models
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@*bÃ¶ylece bu namespace iÃ§indekiler her yerden eriÅŸilebilir olacak.*@

........................................................................................................................................................................................................................................................................................................................................................
ASP.NET Core Authentication ve Authorization, web uygulamalarÄ±nda gÃ¼venliÄŸi saÄŸlamak iÃ§in kullanÄ±lan iki temel kavramdÄ±r. Ä°ÅŸte bu kavramlarÄ±n ne anlama geldiÄŸi ve nasÄ±l Ã§alÄ±ÅŸtÄ±klarÄ± hakkÄ±nda daha fazla bilgi:

Authentication (Kimlik DoÄŸrulama)
Kimlik doÄŸrulama, bir kullanÄ±cÄ±nÄ±n kim olduÄŸunu belirlemek iÃ§in kullanÄ±lan sÃ¼reÃ§tir. Bu sÃ¼reÃ§, kullanÄ±cÄ±larÄ±n uygulamaya giriÅŸ yapmalarÄ± ve kimliklerini doÄŸrulamalarÄ± iÃ§in kullanÄ±lÄ±r. ASP.NET Core, Ã§eÅŸitli kimlik doÄŸrulama yÃ¶ntemlerini destekler:

Cookie-based Authentication (Ã‡erez TabanlÄ± Kimlik DoÄŸrulama): KullanÄ±cÄ± adÄ± ve ÅŸifre ile oturum aÃ§mayÄ± ve oturum bilgilerini Ã§erezler aracÄ±lÄ±ÄŸÄ±yla saklamayÄ± iÃ§erir.
JWT Bearer Tokens (JWT TaÅŸÄ±yÄ±cÄ± Jetonlar): JSON Web Token (JWT) kullanarak kullanÄ±cÄ±larÄ± doÄŸrulayan bir yÃ¶ntemdir. Ã–zellikle API'lerde yaygÄ±n olarak kullanÄ±lÄ±r.
OAuth/OIDC (OAuth ve OpenID Connect): ÃœÃ§Ã¼ncÃ¼ taraf kimlik saÄŸlayÄ±cÄ±larÄ± (Google, Facebook, Microsoft) kullanarak kimlik doÄŸrulamasÄ± yapar.
API Keys (API AnahtarlarÄ±): API'lara eriÅŸim saÄŸlamak iÃ§in kullanÄ±lan bir kimlik doÄŸrulama yÃ¶ntemidir.
External Providers (DÄ±ÅŸ SaÄŸlayÄ±cÄ±lar): ÃœÃ§Ã¼ncÃ¼ taraf kimlik doÄŸrulama saÄŸlayÄ±cÄ±larÄ± kullanarak kimlik doÄŸrulama yapar.
Authorization (Yetkilendirme)
Yetkilendirme, kimliÄŸi doÄŸrulanan bir kullanÄ±cÄ±nÄ±n hangi kaynaklara ve iÅŸlemlere eriÅŸebileceÄŸini belirleyen sÃ¼reÃ§tir. ASP.NET Core'da yetkilendirme, genellikle aÅŸaÄŸÄ±daki yÃ¶ntemlerle uygulanÄ±r:

Role-based Authorization (Rol TabanlÄ± Yetkilendirme): KullanÄ±cÄ±larÄ±n belirli rollere atanmasÄ± ve bu rollere gÃ¶re yetkilerin verilmesi.
Policy-based Authorization (Politika TabanlÄ± Yetkilendirme): Daha esnek ve detaylÄ± yetkilendirme senaryolarÄ± iÃ§in politikalarÄ±n tanÄ±mlanmasÄ± ve kullanÄ±lmasÄ±.
Claims-based Authorization (Hak TabanlÄ± Yetkilendirme): KullanÄ±cÄ±larÄ±n belirli haklara (claims) sahip olmalarÄ±na ve bu haklara gÃ¶re yetkilerin verilmesi.
....................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
SQL Server ÅŸifreniz Ã§alÄ±ntÄ± ÅŸifrelerden birini iÃ§eriyor mu?
10 milyon ÅŸifre iÃ§inde sizin SQL Server kullanÄ±cÄ± ÅŸifrenizin olup olmadÄ±ÄŸÄ±nÄ± gÃ¶steren sorgu.


#HergÃ¼ne1SQLBilgisi
TeÅŸekkÃ¼rler Eitan Blumin. ğŸ™ 

Thank you Eitan Blumin.
I made a little changes to your article and I used it with 10 million passwords.

https://madeiradata.com/post/detect-weak-passwords-in-sql-server?utm_content=buffer290f4&utm_medium=social&utm_source=twitter.com&utm_campaign=buffer

--Tablo OluÅŸtur
CREATE TABLE PasswordList (
 Password_ VARCHAR(255)
);
--Tabloyu truncate et
truncate table passwordlist
/*Github adresinden indirdiÄŸin 10 milyon Ã§alÄ±ntÄ±
ÅŸifre listesini tabloya insert et
https://lnkd.in/gRiPfvjf
Common-Credentials/10-million-password-list-top-1000000.txt*/
BULK INSERT PasswordList
FROM 'E:\DATA\10-million-password-list-top-1000000.TXT'
WITH (
 ROWTERMINATOR = '0x0a' 
);
--sys.sql_logins tablosunda hash li ÅŸekilde tutulan ÅŸifrelerin 
--olup olmadÄ±ÄŸÄ±nÄ± PWDCOMPARE ile kontrol et
select 
PWDCOMPARE(p.Password_,l.[password_hash]) Eslesme,
http://l.name Kullanici, p.Password_ CalintiSifre from PasswordList p
cross apply (select * from sys.sql_logins) l 
where 
PWDCOMPARE(p.Password_,l.[password_hash])=1
...............................................................
web uygulamalarÄ± tarayÄ±cÄ±lar ile Ã§alÄ±ÅŸÄ±r. tarayÄ±cÄ±lar html Ã¼zerinden derleyerek bize bir sayfa Ã§Ä±karÄ±r. static sayfalar sadece gÃ¶sterim yaparlar resim video vs ama kullanÄ±cÄ± ile etkileÅŸime girmezler. dinamik sayfalar ise kullanÄ±cÄ± ile aktif olarak etkileÅŸime geÃ§erler. bir Ã¼ye geldi bilgilerini girdi ve veri kaynaÄŸÄ±na kaydettik mesela o zaman dinamik bir sayfadÄ±r.
sayfalarÄ±mÄ±z bir serverde veya servera Ã§evrilmiÅŸ bir yapÄ±da durur ve client(istemci) istek attÄ±ÄŸÄ±nda sayfayÄ± Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±nda istemcinin tarayÄ±cÄ±sÄ± sayfayÄ± derler ve bize bir sonuÃ§ getirir. bir sayfa dÃ¶ner html css ve js. tarayÄ±cÄ±larda buna gÃ¶re sayfa getirir...
tarayÄ±cÄ±lar html css ve javascript dÄ±ÅŸÄ±nda bir dil bilmezler sadece bunlarla Ã§alÄ±ÅŸÄ±rlar... diÄŸer etkileÅŸimleri ise sunuculardaki kodlar yapar.
  sayfalar css veya js iÃ§ermek zorunda deÄŸil ama html zorunludur. html Ã¼zerine kurulur sistem. html iskelettir.
dinamik olmasÄ± iÃ§in bir sayfanÄ±n veri kaynaÄŸÄ± olmasÄ± ve bilgi alÄ±ÅŸveriÅŸi olmasÄ± gerekir.
static sayfalar kullanÄ±cÄ±ya gÃ¶re deÄŸiÅŸmez verikaynaÄŸÄ±na baÄŸlÄ± deÄŸildir.
........................................................................................................................
application mesela asp ile yazÄ±lan ona veritabanÄ± baÄŸlÄ± application ise html,css,js ile yazÄ±lmÄ±ÅŸ sayfaya baÄŸlÄ±dÄ±r.
application isteÄŸe gÃ¶re veritabanÄ± ile haberleÅŸir ve html css ve js Ã§Ä±ktÄ±sÄ± Ã¼retir ve cevap olarak tarayÄ±cÄ±ya gÃ¶nderilir.
uygulama veritabanÄ±na baÄŸlÄ±. isteÄŸe gÃ¶re requeste gÃ¶re veritabanÄ± ile ilteÅŸim kurarak veya direkt olarak html,css,js Ã§Ä±ktÄ±sÄ±(Ã§Ä±ktÄ± her zaman html,css,js olabilir baÅŸka bir dilden anlamaz tarayÄ±cÄ±lar.) Ã¼retir. ve tarayÄ±cÄ±ya yollar.
....................................................................................................................................................................................................................................................................................................................................................................................................................................
.net her tÃ¼rden uygulama yapabildiÄŸimiz sistem.    .net5.0 ile core ifadesi kalktÄ±. 
cross platform olmayanlar sadece windowsta Ã§alÄ±ÅŸÄ±yordu ÅŸimdi ise linux,windows,macos'ta Ã§alÄ±ÅŸabilir hale geldi.
core hem cross platform hem esnek(bir gÃ¼ncellemeyi daha kolay yapÄ±yoruz ve daha sÃ¼rdÃ¼rÃ¼lebilir daha uzun Ã¶mÃ¼rlÃ¼ oluyor.) hem yÃ¼ksek performanslÄ± hem geniÅŸ uygulama desteÄŸi var.
....................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
sdk ve runtime nedir?.
.net sdk = bir .net uygulamasÄ± geliÅŸtirmek iÃ§in gereken kÃ¼tÃ¼phaneleri ve araÃ§larÄ± veren software development kit'tir. yazÄ±lÄ±m geliÅŸtirme kiti. bu kitin olmasÄ± gerekiyor geliÅŸtirmek iÃ§in.
runtime = .net ile geliÅŸtirilmiÅŸ bir uygulamanÄ±n Ã§alÄ±ÅŸmasÄ±na imkan veren bir ortamdÄ±r. uygulamanÄ±n Ã§alÄ±ÅŸmasÄ± iÃ§in gerekli kÃ¼tÃ¼phaneleri barÄ±ndÄ±rÄ±r. uygulamayÄ± canlÄ±ya alÄ±r.
sdk'nÄ±n iÃ§inde runtime vardÄ±r.

mesela bir web uygulamasÄ± geliÅŸtirmek iÃ§in bir sdk gerekiyor. sdk ile geliÅŸtirdiÄŸimiz bir uygulamayÄ± canlÄ±ya almak iÃ§in ise runtime yeterlidir.
sdk ile uygulama geliÅŸtirdiysem uygulama tÃ¼rÃ¼ne uygun runtime gerekir canlÄ±ya almak gerekir.
runtime sdk'dan daha hafif bir kÃ¼tÃ¼phaneler topluluÄŸu. elde hazÄ±r uygulama var ve canlÄ±ya almak istersek o zaman runtime yeterli olacaktÄ±r.
...........................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
mvc tasarÄ±m deseni nedir? bir Ã§Ã¶zÃ¼m kalÄ±bÄ±dÄ±r. bir tasarÄ±m desenidir design pattern'dir.
model - view - controller Ã¼Ã§lÃ¼sÃ¼. 3 ana component vardÄ±r. ilgili kodun ilgili yerde bulunmasÄ±nÄ± saÄŸlar bize.
model iÅŸ kurallarÄ±mÄ±zÄ± tanÄ±mladÄ±ÄŸÄ±mÄ±z yerdir. tc kimlik aldÄ±k mesela doÄŸru mu gibi iÅŸ kurallarÄ± tanÄ±mladÄ±ÄŸÄ±mÄ±z yerdir.
view kÄ±smÄ± ise kullanÄ±cÄ±nÄ±n gÃ¶rdÃ¼ÄŸÃ¼ kÄ±sÄ±mdÄ±r. Ã¼retilen sonuÃ§ yani view tarayÄ±cÄ±ya yollanÄ±r ve oda derleyerek bir gÃ¶rÃ¼ntÃ¼ oluÅŸturur...
controller(istek ilk controllere gelir) ise isteÄŸe gÃ¶re iÅŸ yapar. veritabanÄ± gerektiricek bir iÅŸlem mi vs bunu kontrol eder eÄŸer gerekirse modelden bir cevap ister. controller cevapÄ±nÄ± view olarak gÃ¶nderir tarayÄ±cÄ±ya tekrar olarak.

Requestler controllere gelir sonuÃ§ ise controllerden tarayÄ±cÄ±lara gÃ¶nderilir.
mvc bir tasarÄ±m kalÄ±bÄ±dÄ±r. bir framework deÄŸildir.

controller -> view  
controller -> model 
view -> model

...........................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
asp.net core web app(model view controller) olanÄ± seÃ§eriz. croos platform olanÄ± alalÄ±m linux,macos'da dahil olanÄ± seÃ§tik. hazÄ±r bir proje ÅŸablonu oluÅŸturacak.
solution bir kap gibidir bir solution iÃ§inde birden fazla proje olabilir.
.....................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
asp.net core web app(model view controller) ile bir proje oluÅŸturursak oluÅŸan dosyalarÄ±n ne olduÄŸunu ne iÅŸe yaradÄ±ÄŸÄ±nÄ± gÃ¶receÄŸiz.

conntected services klasÃ¶rÃ¼ var biz ora sayesinde 3. part servislere baÄŸlanabiliriz.
dependies ksÄ±mÄ±nda ise frameworkleri ekleyebildiÄŸimiz bir kÄ±sÄ±m var.

properties iÃ§inde ise uyglamanÄ±n ayaÄŸa kalkmasÄ± iÃ§in nasÄ±l bir yol izlenecek bunu ayarlayabiliriz.

wwwrot kÄ±smÄ± ise bir klasÃ¶rdÃ¼r tÃ¼m static dosyalarÄ±mÄ±zÄ± barÄ±ndÄ±rÄ±rÄ±z. videolar resimler ,css js kÃ¼tÃ¼phaneleride default olarak gelir. css iÃ§in bootstrap js iÃ§in jquery hazÄ±r olarak geliyor.

controllers kÄ±smÄ± ise controller kÄ±smÄ±dÄ±r. request'in ilk geldiÄŸi yerdir. tÃ¼m controllerleri controllers klasÃ¶rÃ¼ altÄ±nda toplayacaÄŸÄ±z.

models kÄ±smÄ± hem bussiness kodunun olduÄŸu yer hemde veritabanÄ± iÅŸlemlerinin olduÄŸu yerdir.

views kÄ±smÄ± ise kullanÄ±cÄ±nÄ±n gÃ¶receÄŸi arayÃ¼zÃ¼ biz views kÄ±smÄ± iÃ§erisinde ayarlÄ±yoruz. linkin ekranÄ±nÄ± bu klasÃ¶rde yaparÄ±z.

appsettings.json ise uygulamadaki static yollarÄ± barÄ±ndÄ±racaÄŸÄ±mÄ±z yerdir. mesela veritabanÄ±na baÄŸlanmak iÃ§in yolu buraya koyabiliriz. veya facebooka baÄŸlanmak iÃ§in gereken key'i buraya koyabiliriz.

Program.cs dosyasÄ± ise uygulamanÄ±n ayaÄŸa kalktÄ±ÄŸÄ± yerdir. main'dir aslÄ±nda. mesela veritabanÄ±na baÄŸlanmak istersek bir session kullanmak istersek buradan ayaralarÄ±z. uygulamanÄ±n genel ayarlarÄ± burada yapÄ±lÄ±r.

................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
asp.net core web app(model view controller) ile oluÅŸturdÄŸumuz bir projeyi nasÄ±l ayaÄŸa kaldÄ±racaÄŸÄ±z.
cross platform olduÄŸu iÃ§in iss ile ya da kestrel ile ayaÄŸa kaldÄ±rabiliriz. klasik .net olsaydÄ± sadece iss olurdu. ama cross platform olduÄŸu iÃ§in kestrel'de kullanabiliriz...

properties iÃ§indeki launchsetttings.json iÃ§inde ayarlarÄ± vardÄ±r iss ve kestrel kÄ±sÄ±mlarÄ±nÄ±n

        {
        "iisSettings": {
            "windowsAuthentication": false,
            "anonymousAuthentication": true,
            "iisExpress": {
            "applicationUrl": "http://localhost:39372",
            "sslPort": 44374
            }
        },
        "profiles": {
            "turkcell1.Web": {
            "commandName": "Project",
            "dotnetRunMessages": true,
            "launchBrowser": true,
            "applicationUrl": "https://localhost:7289;http://localhost:5258",
            "environmentVariables": {
                "ASPNETCORE_ENVIRONMENT": "Development"
            }
            },
            "IIS Express": {
            "commandName": "IISExpress",
            "launchBrowser": true,
            "environmentVariables": {
                "ASPNETCORE_ENVIRONMENT": "Development"
            }
            }
        }
        }

Ã¼stte iss express seÃ§ersek iss ile ayaÄŸa kaldÄ±rÄ±rÄ±z. hem http hemde https ile ayaÄŸa kalkar. https ile ayaÄŸa almalÄ±yÄ±z ki client ile server arasÄ±ndaki iletiÅŸim ÅŸifrelensin.

kestrel ile ayaÄŸa kaldÄ±rmak iÃ§in ise uygulamanÄ±n ismini seÃ§eriz.              "turkcell1.Web EMRE": {  ama buradan bir isim deÄŸiÅŸimi yapabiliriz.
kestrel ile ayaÄŸa kaldÄ±rÄ±nca bir console ekranÄ± geliyor bunun sebebi aslÄ±nda cross olduÄŸu iÃ§in konsol arayÃ¼zÃ¼ geliyor. web uygulamamÄ±z Ã¶zÃ¼nde bir konsol uygulamasÄ±. open source olarak ayaÄŸa kaldÄ±rÄ±rsak bir konsol arayÃ¼zÃ¼ geliyor bize.

program.cs'de bir main metotu yok ama ara dillerde ekleniyor ama biz main metotu ile uÄŸraÅŸmÄ±yoruz. app.run direkt olarak uygulamayÄ± Ã§alÄ±ÅŸtÄ±rÄ±yor.

linux ve macos iÃ§in kestrel kullanabiliriz windows iÃ§inde kestrel kullanabiliriz. ama iss sadece microsoft.  

iss ve kestrel kÄ±smÄ± yeÅŸil play butonunun orada seÃ§im yaparak ayaÄŸa kaldÄ±rabiliriz.


................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................

Visual Studio'da oluÅŸturduÄŸunuz web sitesini Internet Information Services (IIS) ile ayaÄŸa kaldÄ±rÄ±rken varsayÄ±lan tarayÄ±cÄ± yerine kendi istediÄŸiniz tarayÄ±cÄ±yÄ± Ã§alÄ±ÅŸtÄ±rmak iÃ§in aÅŸaÄŸÄ±daki adÄ±mlarÄ± takip edebilirsiniz:

Visual Studio AyarlarÄ±:

Visual Studio'yu aÃ§Ä±n ve projenizi yÃ¼kleyin.
Ãœst menÃ¼den "Tools" (AraÃ§lar) menÃ¼sÃ¼ne gidin ve "Options" (SeÃ§enekler) Ã¶ÄŸesine tÄ±klayÄ±n.
Sol taraftaki menÃ¼den "Projects and Solutions" (Projeler ve Ã‡Ã¶zÃ¼mler) altÄ±nda "Web Projects" (Web Projeleri) Ã¶ÄŸesini seÃ§in.
"Use the 64 bit version of IIS Express for web sites and projects" seÃ§eneÄŸini iÅŸaretleyin (EÄŸer 64-bit kullanÄ±yorsanÄ±z).
Ã–zel TarayÄ±cÄ± AyarÄ±:

Projenizde "Solution Explorer"(ctrl + alt + l) (Ã‡Ã¶zÃ¼m Gezgini) penceresini aÃ§Ä±n.
Projenizin adÄ±nÄ±n yanÄ±ndaki kÃ¼Ã§Ã¼k oka tÄ±klayarak alt Ã¶ÄŸelerini geniÅŸletin.
"Properties" (Ã–zellikler) klasÃ¶rÃ¼ne saÄŸ tÄ±klayÄ±n ve "Open" (AÃ§) Ã¶ÄŸesini seÃ§in.
"Web" sekmesine geÃ§in.
"Start Action" (BaÅŸlangÄ±Ã§ Eylemi) bÃ¶lÃ¼mÃ¼nde "Start External Program" (Harici Program BaÅŸlat) seÃ§eneÄŸini seÃ§in.
"Program" alanÄ±na, kullanmak istediÄŸiniz tarayÄ±cÄ±nÄ±n Ã§alÄ±ÅŸtÄ±rÄ±labilir dosyasÄ±nÄ±n yolunu girin. Ã–rneÄŸin, Google Chrome iÃ§in bu yol genellikle C:\Program Files\Google\Chrome\Application\chrome.exe ÅŸeklindedir.
"Command line arguments" (Komut satÄ±rÄ± argÃ¼manlarÄ±) bÃ¶lÃ¼mÃ¼ne ise projenizin URL'sini girin. Ã–rneÄŸin, http://localhost:8080 gibi.
KayÄ±t ve Ã‡alÄ±ÅŸtÄ±rma:

Bu ayarlarÄ± kaydedin ve projenizi baÅŸlatÄ±n.
ArtÄ±k projeniz, belirlediÄŸiniz tarayÄ±cÄ±da aÃ§Ä±lacaktÄ±r.
Bu adÄ±mlarÄ± izleyerek varsayÄ±lan tarayÄ±cÄ± yerine kendi seÃ§tiÄŸiniz tarayÄ±cÄ±yÄ± kullanabilirsiniz.


................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
temel routing yapÄ±sÄ±.
routing'ten kastÄ±mÄ±z kullanÄ±cÄ±larÄ±n url girmeleri veya bir linke tÄ±klamalarÄ±.

Program.cs iÃ§inde 
app.MapControllerRoute(
    name: "default", 
    pattern: "{controller=Home}/{action=Index}/{id?}"); //kÄ±smÄ± var. // buradaki ='ler default olarak nasÄ±l davranÄ±lÄ±r bunu belirliyor.
    // pattern uygulamamÄ±zÄ±n default routing pattern'i.
    controller iÃ§erisindeki metotlara action deriz. bunlarÄ±n view kÄ±smÄ±nda bir karÅŸÄ±lÄ±ÄŸÄ± olur.
    
baseurl//controller//index ile sayfa gÃ¶rÃ¼ntÃ¼lenmesi saÄŸlarÄ±z.
baseurl//home//privacy
//https://www.mysite.com bu bizim baseurl. localdeki baseurl ise //https://localhost:7098/ gibi bir yapÄ±dÄ±r.

? ile valuetype'Ä± nullable yapabiliriz c#'ta.

................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
razor view engine.
yazÄ±lÄ±m motorudur. view dosyasÄ±ndaki html css js kodlarÄ±nÄ± html dosyalarÄ±na Ã§evirir.  
view iÃ§indeki index.cshtml dosyalarÄ±nda hem c# hemde html dilleri aynÄ± anda bulunabilir.
                   uzantÄ±lar cshtml tarayÄ±cÄ±lar c# kodlarÄ±nÄ± anlayamaz ama razor view engine onlarÄ± html kodlarÄ±na Ã§evirir.

razor syntax'Ä± ÅŸudur @{ c# } kodlarÄ± olarak oluÅŸtururuz. ve razor view engine deriz ki bir c# kodu var sen bunu html koduna Ã§evir.

@{
    ViewData["Title"] = "Home Page";
} // gibi razor view engine bunlarÄ± c# koduna Ã§evirir.

................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
controller sÄ±nÄ±fÄ± oluÅŸturmak. controller katmanÄ± request'i ilk karÅŸÄ±layan yer. eÄŸer istek model katmanÄ± ile iÅŸlem yapacaksa model katmanÄ±nda veriyi alÄ±r ve sayfayÄ± gÃ¶rÃ¼ntÃ¼lemek iÃ§in gelen request'i view'e gÃ¶ndererek bir arayÃ¼z alÄ±r onu tarayÄ±cÄ±ya yollar.

using Microsoft.AspNetCore.Mvc;
using System.Diagnostics;
using turkcell1.Web.Models;

        namespace turkcell1.Web.Controllers
        {
            public class HomeController : Controller // default olarak gelen HomeController sÄ±nÄ±fÄ±.
            {                             // Controller sÄ±nÄ±fÄ± framework'ten gelir ve controller clasllarÄ± bu sÄ±nÄ±ftan tÃ¼rerler Ã§ok yararlÄ± metotlarÄ± vardÄ±r.

                private readonly ILogger<HomeController> _logger;

                public HomeController(ILogger<HomeController> logger)
                {
                    _logger = logger;
                }

                public IActionResult Index() // bir metotun view tarafÄ±nda bir karÅŸÄ±lÄ±ÄŸÄ± varsa action metot olarak adlandÄ±rÄ±rÄ±z. 
                {
                    return View();
                }

                public IActionResult Privacy()
                {
                    return View();
                }


                [ResponseCache(Duration = 0, Location = ResponseCacheLocation.None, NoStore = true)]
                public IActionResult Error() // Error sayfasÄ±.
                {
                    return View(new ErrorViewModel { RequestId = Activity.Current?.Id ?? HttpContext.TraceIdentifier });
                }
            }
        }

Controller sÄ±nÄ±flarÄ±nÄ±n iÃ§eriisnde hep Action metot kullanmaya devam etmek lazÄ±m. diÄŸerleride olabilir ama temiz tutma aÃ§Ä±sÄ±ndan daha iyidir. lazÄ±mda farklÄ± sÄ±nÄ±flarla Ã§aÄŸÄ±rmak daha mantÄ±klÄ±dÄ±r.

action class'Ä± Ã¼zerine gelir saÄŸ tÄ±k add view diyerek bir sayfa oluÅŸturabiliriz.
OrnekController diye bir sÄ±nÄ±f oluÅŸturduk ve view klasÃ¶rÃ¼nde Ornek diye bir klasÃ¶r oluÅŸtu altÄ±nda da sayfasÄ± oluÅŸtu.
            https://localhost:44374/Ornek/Index  sonra baseurl/klasÃ¶r/sayfasÄ± ÅŸeklinde bir yapÄ± istenen sayfaya giriÅŸ yapabildik.


...............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Action results. action metotlarÄ±n dÃ¶ndÃ¼receÄŸi veri tipleri. viewResult dÃ¶nebilir , ContentResult, JsonResult,EmptyResult,ActionResult olabilir ve dahasÄ± var.

        using Microsoft.AspNetCore.Mvc;

        namespace turkcell1.Web.Controllers
        {
            public class OrnekController : Controller
            {

                public IActionResult Index()
                {


                    return View();


                }

                public IActionResult ContentResult()
                { // bu metotu ekledik . https://localhost:44374/Ornek/ContentResult dersek eÄŸer iÃ§erisindeki Stringi sayfaya basacak bunu dÃ¶necek bize.

                    return Content("ContentResultDÃ¶nÃ¼yor");


                }

                public IActionResult JsonResult()
                { 
                    // https://localhost:44374/Ornek/JsonResult dersek dÃ¶nÃ¼ÅŸÃ¼ gÃ¶rÃ¼rÃ¼z...
                       return Json(new { Id = 1, name = "kalem",price = 100 });

                }

        public IActionResult EmptyResult()
        {
            return new EmptyResult();

        } // bununlada boÅŸ bir ÅŸey dÃ¶nebiliriz. iÃ§eriksiz bir dÃ¶nÃ¼ÅŸ saÄŸlar bize.

            }

        } 

................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
RedirectoAction Method. Action Method'lardan farklÄ± bir action methoda nasÄ±l yÃ¶nlendirme yapÄ±lacaÄŸÄ± anlatÄ±lmaktadÄ±r.

bir action metottan baÅŸka bir action metota geÃ§iÅŸ yapmamÄ±zÄ± saÄŸlayacak.
        using Microsoft.AspNetCore.Mvc;

        namespace turkcell1.Web.Controllers
        {
            public class OrnekController : Controller
            {


                public IActionResult Index2()
                {
                    return RedirectToAction("Index","Ornek"); // burada hangi sayfaya dÃ¶nmek istiyorum bunu belirletebiliriz.
                    // Ornek conttolerindeki index sayfasÄ±na yÃ¶nlendir dedik
                    //return View();
                }

/index2 dersek index sayfasÄ±na gÃ¶nderir bunun sebebi Program.cs kÄ±smÄ±nda default olarak bir action belirtmezsek default olarak index sayfasÄ±nÄ± gÃ¶sterirmiÅŸ.


................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Action Method Parametre TanÄ±mlama.

default olarak id kullanabiliriz daha fazlasÄ±nÄ± eklemek iÃ§in yeni bir route kullanmak lazÄ±m.
id? olarak kullanÄ±rÄ±z Program.cs'te ama id olrak kullanÄ±rsak id gÃ¶ndermemiz zorunlu hale gelir. bunu istemeyiz.


        using Microsoft.AspNetCore.Mvc;

        namespace turkcell1.Web.Controllers
        {
            public class OrnekController : Controller
            {

                public IActionResult ParametreView(int id) // id Program.cs'teki id ile aynÄ± isimde olmalÄ±.
                {

                    return RedirectToAction("JsonResultParametre","Ornek",new {id = id});
                    
                }

                public IActionResult JsonResultParametre(int id)
                {
                    return Json(new { Id  = id });

                }

Action Method Parametre TanÄ±mlama. bÃ¶yle action metotlar parametre alÄ±r oldu. 

app.MapControllerRoute(
    name: "default",
    pattern: "{controller=Home}/{action=Index}/{id?}");  
Program.cs'te id kÄ±smÄ± var.  biz mesela baseurl/Ornek/ParametreView/1 dersek bu ParametreView action metotu 1 alÄ±r parametre olarak. ve ona gÃ¶re iÅŸlem yapar.

https://localhost:44374/Ornek/JsonResultParametre/2   bize {"id":2} getirdi.
kodlar: 

                    using Microsoft.AspNetCore.Mvc;

                    namespace turkcell1.Web.Controllers
                    {
                        public class OrnekController : Controller
                        {

                            public IActionResult ParametreView(int id) // id Program.cs'teki id ile aynÄ± isimde olmalÄ±.
                            {

                                return RedirectToAction("JsonResultParametre","Ornek",new {id = id});
                                
                            }

                            public IActionResult JsonResultParametre(int id)
                            {
                                return Json(new { Id  = id });

                            }

                            public IActionResult JsonResult()
                            {
                                return Json(new { Id = 1, name = "kalem", price = 100 });

                            }

                            public IActionResult Index2()
                            {
                                return RedirectToAction("Index","Ornek"); // burada hangi sayfaya dÃ¶nmek istiyorum bunu belirletebiliriz.
                                // Ornek conttolerindeki index sayfasÄ±na yÃ¶nlendir dedik
                                //return View();
                            }

                            public IActionResult Index()
                            {


                                return View();


                            }

                            public IActionResult ContentResult()
                            {

                                return Content("ContentResultDÃ¶nÃ¼yor");


                            }



                            public IActionResult EmptyResult()
                            {
                                return new EmptyResult();

                            }






                        }
                    }

................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Veri TaÅŸÄ±ma YÃ¶ntemleri-Viewbag (controller - view)
controllerden viewlere veri taÅŸÄ±ma yÃ¶ntemleri. controllerden aldÄ±ÄŸÄ±mÄ±z datalarÄ± viewe gÃ¶ndererek kullanÄ±cÄ±ya gÃ¶sterebiliriz.

data taÅŸÄ±ma yÃ¶ntemleri ViewBag-ViewData-TempData-ViewModel olarak sÄ±ralayabiliriz.

ViewBag ile taÅŸÄ±ma.

        public IActionResult Index()
        {
            ViewBag.name = "Asp.Net core"; // bir isim verdik mesela


            return View();


        }
        // sonra Ornek klasorundeki index.cshtml'e gidiyoruz. bu ismi yazdÄ±rmak iÃ§in @ViewBag.name olarak kullanÄ±yoruz ki razor syntax'Ä± c# kodunu htmle Ã§evirsin.


@{
    var name = ViewBag.name;
    <p>@name</p>

} // birden fazla razor kodu iÃ§in kullanÄ±rÄ±z.

basit datalar iÃ§in ViewBag kullanÄ±rÄ±z hacimli datalar iÃ§in ViewModel kullanÄ±rÄ±z genelde.
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Veri TaÅŸÄ±ma YÃ¶ntemleri-ViewData... mamtÄ±k ViewBag ile aynÄ± tanÄ±mlama farklÄ±.

        public IActionResult Index()
        {
            ViewBag.name = "Asp.Net Core";
            ViewData["age"] = 30;
            return View();


        }

// buda Ornek klasorundeki Index.cshtml kÄ±smÄ±.
        @{
            ViewData["Title"] = "Index";
        }

        <h1>Index</h1>

        <p>@ViewBag.name</p> 

        @{
            var name = ViewBag.name;
            <p>@name</p>

        }

        <p>@ViewData["age"]</p>


using Microsoft.AspNetCore.Mvc;

namespace turkcell1.Web.Controllers
{
    public class OrnekController : Controller
    {


        public IActionResult Index()
        {
            ViewData["age"] = 30;
            ViewData["names"] = new List<String>() { "ahmet", "mehmet", "hasan" };
            return View();


        }


@{
    ViewData["Title"] = "Index";
}

<h1>Index</h1>

<p>@ViewBag.name</p> 

@{
    var name = ViewBag.name;
    <p>@name</p>

}

<p>@ViewData["age"]</p>

@foreach(var item in ViewData["names"] as List<String>){  // as List<String> dedik tipini belirttik tipinden veriyi Ã§Ä±karÄ±rsa String yapacak beceremezse Null yapacak.

    <p>@item</p>

} // foreach ile biz verileri yazdÄ±rabilir olduk.




using Microsoft.AspNetCore.Mvc;

namespace turkcell1.Web.Controllers
{
    public class OrnekController : Controller
    {


        public IActionResult Index()
        {
            ViewData["age"] = 30;
            ViewData["names"] = new List<String>() { "ahmet", "mehmet", "hasan" };
            ViewBag.person = new {Id = 1,Name = "ahmet",Age = 23 }; // new ile default Objectten parametre adÄ±,tipi ve verisi belli olan bir nesne Ã¼rettik.
            return View();


        }

// Ornek klasorundeki Ä°ndex sayfayÄ±.
@{
    ViewData["Title"] = "Index";
}

<h1>Index</h1>

<p>@ViewBag.name</p> 

@{
    var name = ViewBag.name;
    <p>@name</p>

}

<p>@ViewData["age"]</p>

@foreach(var item in ViewData["names"] as List<String>){

    <p>@item</p>

}

<p>@ViewBag.person.Id - @ViewBag.person.Name</p>

................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
TempData. Controller'dan view'lere temdata ile nasÄ±l data taÅŸÄ±nacaÄŸÄ±nÄ± anlatÄ±lmaktadÄ±r.
bir sayfadan diÄŸer bir sayfaya veri taÅŸÄ±mak iÃ§in ViewBag ve ViewData bir sayfanÄ±n action metotuna veri verir.
TempData ise Bir Action Metottan bir Action metota data taÅŸÄ±yabiliriz.


using Microsoft.AspNetCore.Mvc;

namespace turkcell1.Web.Controllers
{
    public class OrnekController : Controller
    {


        public IActionResult Index()
        {

            TempData["Surname"] = "yÄ±ldÄ±z";


            return View();


        }

// tanÄ±mlamayÄ± Index sayfasÄ±nda yaptÄ±k ama veriyi Index2 sayfasÄ±nda yazdÄ±rabildik TempData sayesinde.
https://localhost:44374/Ornek/Index2 ile normalde Index actionundaki olan veriyi baÅŸka bir sayfaya taÅŸÄ±yabildik.
@{
    ViewData["Title"] = "Index2";
}

<h1>Index2</h1>

<p>@TempData["surname"]</p>

................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Veri TaÅŸÄ±ma YÃ¶ntemleri-ViewModel. Controller'dan view'lere view model ile nasÄ±l data taÅŸÄ±nacaÄŸÄ±nÄ± anlatÄ±lmaktadÄ±r.
ViewModel'i daha Ã§ok hacmi bÃ¼yÃ¼k verileri iÃ§in kullanÄ±rÄ±z.


using Microsoft.AspNetCore.Mvc;

namespace turkcell1.Web.Controllers
{
    public class OrnekController : Controller
    {

        public class Product
        {
            public int Id { get; set; }
            public  String Name { get; set; }

        }

        public IActionResult Index()
        {
            var productList = new List<Product>() {

                new Product(){Id = 1,Name = "Kalem"},

                new Product(){Id = 2,Name = "Kitap"},

                new Product(){Id = 3,Name = "Defter"},


            };

            TempData["Surname"] = "yÄ±ldÄ±z";


            return View(productList);


        }

@using turkcell1.Web.Controllers
@model List<Product>

@foreach(var item in model)
{
    <p>@item.Id - @item.Name</p>
}


................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
View'e giriÅŸ... 
BÃ¶lÃ¼m iÃ§erik :
â€¢ Razor Syntax
â€¢ Layout
â€¢ Partial View
â€¢ Javascript
â€¢ css
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Razor Syntax..
cshtml uzantÄ±lÄ± dosyalar iÃ§erisinde bir c#kodu yazacaksak eÄŸer o zaman @ ile yazarÄ±z.

<span>
    @DateTime.Now.ToShortDateString()
</span>

@{
    var datetime = @DateTime.Now.ToShortDateString();
    var message = "merhaba";
    
    <text>bugunun tarihi: @datetime </text> 

    <span>
        mesaj: @message
    </span>

}


        @{
            ViewData["Title"] = "Home Page";
            var alert = "Bu bir uyarÄ±dÄ±r";
        }

        <div class="text-center">
            <h1 class="display-4">Welcome</h1>
            <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
        </div>

        <span>
            @DateTime.Now.ToShortDateString()
        </span>

        @{
            var datetime = @DateTime.Now.ToShortDateString();
            var message = "merhaba";


            <span>
                mesaj: @message
            </span>

        }

        @if (1 == 1)
        {
            <p>doÄŸru</p>

        }
        else if(DateTime.IsLeapYear(DateTime.Now.Year))
        {
            <p>artÄ±k yÄ±l.</p>

        }
        else
        {
            <p>yanlÄ±ÅŸ</p>
        }

        @for(var i = 0; i < 10;i++)
        {
            <p>@i</p>
        }

        @foreach (var item in Enumerable.Range(1,10).ToList())
        {
            <p>@item</p>
        }


................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Layout. bir web sayfasÄ±nda genelde yapÄ± aynÄ±dÄ±r ortaktÄ±r tÃ¼m sayfalarda. Content denen kÄ±sÄ±m sayfadan sayfaya deÄŸiÅŸir bu sistem normelde.
HazÄ±r olarak Menu header footer alanÄ± genelde ortak olup content kÄ±smÄ± sayfadan sayfaya deÄŸiÅŸir normalde.
Layout Ã¶zelleÅŸtirilmiÅŸ cshtml dosyasÄ±dÄ±r.

ama bu Ã¶zelleÅŸtirilebilir mesela header olmasÄ±n diyebiliriz.
view klasÃ¶rÃ¼nde Shared klasÃ¶rÃ¼nde _Layout.cshtml var mesela.

            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="utf-8" />
                <meta name="viewport" content="width=device-width, initial-scale=1.0" />
                <title>@ViewData["Title"] - turkcell1.Web</title>
                <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
                <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
                <link rel="stylesheet" href="~/turkcell1.Web.styles.css" asp-append-version="true" />
            </head>
            <body>
                <header>
                    <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
                        <div class="container-fluid">
                            <a class="navbar-brand" asp-area="" asp-controller="Home" asp-action="Index">turkcell1.Web</a>
                            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                                    aria-expanded="false" aria-label="Toggle navigation">
                                <span class="navbar-toggler-icon"></span>
                            </button>
                            <div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
                                <ul class="navbar-nav flex-grow-1">
                                    <li class="nav-item">
                                        <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Index">Home</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Privacy">Privacy</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </nav>
                </header>
                <div class="container">
                    <main role="main" class="pb-3">
                        @RenderBody()
                    </main>
                </div>

                <footer class="border-top footer text-muted">
                    <div class="container">
                        &copy; 2024 - turkcell1.Web - <a asp-area="" asp-controller="Home" asp-action="Privacy">Privacy</a>
                    </div>
                </footer>
                <script src="~/lib/jquery/dist/jquery.min.js"></script>
                <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
                <script src="~/js/site.js" asp-append-version="true"></script>
                @await RenderSectionAsync("Scripts", required: false)
            </body>
            </html>

// _Layout.cshtml iÃ§inde body iÃ§inde header footer content vs vs gibi alanlar var.

@RenderBody()   bu html kodunun iÃ§inde mesela index.cshtml iÃ§inde kodlarÄ±n bu metota eklendiÄŸi bilinir. 

    @{
        Layout = "_Layout"; // _ViewStart.cshtml iÃ§inde default olarak kullanÄ±lacak olan Layout'u belirleyebiliriz.
    }

wwwroot iÃ§inde js klasÃ¶rÃ¼nde site.js dosyasÄ±na hazÄ±r olarak kullanacaÄŸÄ±mÄ±z javascript kodlarÄ±nÄ± yazabiliriz.
    css iÃ§erisinde ise site.css varda default olarak gelen css kodlarÄ± vardÄ±r.

................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Layout SayfalarÄ± OluÅŸturmak.
views klasÃ¶rundeki Shared klasorunde add new view ile boÅŸ bir  view ekledik.

        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="utf-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            <title>@ViewData["Title"] - turkcell1.Web</title>
            <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
            <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
            <link rel="stylesheet" href="~/turkcell1.Web.styles.css" asp-append-version="true" />
        </head>
        <body>
            <header>

            </header>

            <div class="container">
                <main role="main" class="pb-3">
                    @RenderBody() 
                </main>
            </div>

            <footer>
                <div>footer</div>
            </footer>
        </body>
        </html>

// Layout'tan alÄ±p dÃ¼zenleme yaptÄ±k.

@{
    ViewData["Title"] = "ExampleController Index";
    Layout = "ExampleLayout"; // burada hangi Layout'u kullanacaÄŸÄ±nÄ± belirttik yoksa default olarak Layout kullanÄ±r. _Layout'u kullanÄ±r.
}

<div>Bu sayfa Example Controller > Index sayfasÄ±</div>


@{
    Layout = null;
} // Layout yoksa bÃ¶yle kullanÄ±lÄ±r... html dosyasÄ±nÄ± kendimiz yazarÄ±z ister elle yazar ya da hazÄ±r ÅŸablonu kullanabiliriz.


        @{
            Layout = null;
        }


        <!DOCTYPE html>

        <html>
        <head>
            <meta name="viewport" content="width=device-width" />
            <title>NoLayout</title>
        </head>
        <body>
        </body>
        </html>
// Layout'suz olduÄŸu iÃ§in kendi html yapÄ±sÄ± var.

................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Render Section Nedir ? NasÄ±l TanÄ±mlanÄ±r ?
Layout sayfalarÄ±nda kullabileceÄŸimiz metotlar. ekstra olarak layoutlar iÃ§eriisnde kodlar tanÄ±mlayabiliriz.

@await RenderSectionAsync("Scripts", required: false)  // bunun anlamÄ± bir Render Section metotu oluÅŸturursak bu kodlar buraya yerleÅŸsin demektir.

@section header{ // section header diyerek aslÄ±nda hedef yeri belirtiriz.
 // burada yazacaÄŸÄ±mÄ±z kodlar. viewdeki @await RenderSectionAsync("header", required: false) kÄ±smÄ±na gidecek.
} 

diÄŸer kodlar ise  @RenderBody() kÄ±smÄ±na gidecek.

@await RenderSectionAsync("header", required: false)  false eÄŸer true olursa. o layout'u kullanan tÃ¼m sayfalar bunu tanÄ±mlamak zorunda olur interface gibi false kalmasÄ± daha iyidir. 

@section ile istediÄŸimiz yere istediÄŸimiz kodlarÄ± ekleyebiliriz.
eÄŸer @section ile yazmasak o zaman @RenderBody'e eklenir kodlar.

Ã¶nce css sonra js dosylarÄ± yÃ¼klenir normalde.
header kÄ±smÄ±nda css footer kÄ±smÄ±nda ise js kodlarÄ±nÄ± barÄ±ndÄ±rÄ±rÄ±z bunu hÄ±zlÄ± Ã§alÄ±ÅŸmasÄ± iÃ§in yaparÄ±z.

................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Partial View Nedir ?
Layout'un iÃ§eriÄŸindekilerin gruplanmasÄ± mesela menuyu ikiye bÃ¶lÃ¼yoruz. uygulama iÃ§erisinde hep bulunmayan ama gerek olursa kullanacaÄŸÄ±mÄ±z cshtml doysalarÄ±.
mesela bir login menu eklemek istiyoruz. bazÄ± sayfalarda gozÃ¼ksÃ¼n bazÄ± sayfalarda gÃ¶zÃ¼kmesin isteyerebiliriz.
veya social icons eklemek isteyebiliriz bÃ¶yle parÃ§alarÄ± sÃ¼rekli olarak kodlamak yerine bir kere kodlayÄ±p sonra istenen yere enjekte etmek daha mantÄ±klÄ± olacaktÄ±r.

shared klasorunde saÄŸ tÄ±k add view diyoruz sonra create as a partial view diyerek bir razor view oluÅŸturuyoruz.
bir sayfa deÄŸil sayfaya entegre olacak yapÄ± olacak.

mesela _PartialHeaderView diye bir cshtml oluÅŸturduk iÃ§ine istediÄŸimiz kodu ekledik. 
bunu entegre etmek iÃ§in ise entegre edilecek yerde <partial name = "_PartialHeaderView"/> bu ÅŸekilde yerleÅŸtirebiliriz.
@await Html.PartialAsync("_PartialHeaderView")  ÅŸeklinde de kullanabiliriz.
asenkron metotlarÄ±n baÅŸÄ±na @await eklenirler.


................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
View iÃ§erisinde javascript kodu yazmak
jquery hazÄ±r olarak geliyor hem ham js kodlarÄ± yazabiliriz hemde hazÄ±r kod kullanabiliriz.
eÄŸer biz jquery ve bootstrap'i ilgilendiren bir js kodu yazacaksan script section iÃ§inde yazmamÄ±z lazÄ±m bÃ¶ylece Ã¶nce kÃ¼tÃ¼phaneler sonra kodlar eklenecek.

        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="utf-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            <title>@ViewData["Title"] - turkcell1.Web</title>
            <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
            <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
            <link rel="stylesheet" href="~/turkcell1.Web.styles.css" asp-append-version="true" />
        </head>
        <body>
            <partial name="_HeaderPartialView"></partial>
            <div class="container">
                <main role="main" class="pb-3">
                    @RenderBody()
                </main>
            </div>

        @section Scripts{
            <script type="text/javascript">
                alert("SayfamÄ±za hoÅŸ geldin.")
                $(document).ready( // html sayfam document demek. ready ise sayfa yÃ¼klendikten sonra bu kodlar iÅŸleme giricek. yoksa yÃ¼klenmemiÅŸ taga ulaÅŸmaya Ã§alÄ±ÅŸÄ±rsa hata alabiliriz.
                        {
                            console.log("SayfamÄ±za hoÅŸ geldinn");
                        }

                )
                </script>

        } // burada yazÄ±lan kod en aÅŸaÄŸÄ±daki @await RenderSectionAsync("Scripts", required: false) kÄ±smÄ±na eklenecek.
          // bÃ¶ylece Ã¶nce kÃ¼tÃ¼phaneler sonra js kodu eklenecek.

            <partial name="_FooterPartialView" />
            <script src="~/lib/jquery/dist/jquery.min.js"></script>
            <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
            <script src="~/js/site.js" asp-append-version="true"></script>
            @await RenderSectionAsync("Scripts", required: false)
        </body>
        </html>


................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
View iÃ§erisinde css kodu yazmak.

ctrl basÄ±lÄ± Ã¶nce k sonra c yorum satÄ±rÄ±na alÄ±r seÃ§ili olanÄ±... ctrl basÄ±lÄ± Ã¶nce k sonra u ise seÃ§ili olanÄ± yorum satÄ±rÄ±ndan Ã§Ä±karÄ±r...

@section Css{

    h1{
    
    color:red;
    backgroun-dcolor:blue;

    }

} // bunu biz sayfa koduna yazarÄ±z ve layoutta belirttiÄŸimiz                 @await RenderSectionAsync("Css", required: false) olan yere gelir yerleÅŸir. bÃ¶ylelikle Ã¶nce css sonra js yerleÅŸir bu yapÄ± ile bÃ¶ylece sayfa daha hÄ±zlÄ± Ã§alÄ±ÅŸÄ±r.



            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="utf-8" />
                <meta name="viewport" content="width=device-width, initial-scale=1.0" />
                <title>@ViewData["Title"] - turkcell1.Web</title>
                <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
                <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
                <link rel="stylesheet" href="~/turkcell1.Web.styles.css" asp-append-version="true" />
                @await RenderSectionAsync("Css", required: false)
                @*   *@
            </head>
            <body>
                <partial name="_HeaderPartialView"></partial>
                <div class="container">
                    <main role="main" class="pb-3">
                        @RenderBody()
                    </main>
                </div>

            @section Scripts{
                <script type="text/javascript">
                    alert("SayfamÄ±za hoÅŸ geldin.")
                    </script>

            }


                <partial name="_FooterPartialView" />
                <script src="~/lib/jquery/dist/jquery.min.js"></script>
                <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
                <script src="~/js/site.js" asp-append-version="true"></script>
                @await RenderSectionAsync("Scripts", required: false)
            </body>
            </html>


@{
    ViewData["Title"] = "Home Page";
    var alert = "Bu bir uyarÄ±dÄ±r";
}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
</div>

@section Css{

    <link rel="stylesheet" href="~/css/Example.css" asp-append-version="true" /> // kendi css dosyamÄ±zÄ± oluÅŸturduk wwwroot css dosyasÄ±nda. ve buraya ekleyerek bunu cshtmlde Ã§alÄ±ÅŸÄ±r hale getirebildik.

    <style>
    h1{
    
    color:red;
    background-color:blue;

    }
    </style>
}

<h1>
    Merhaba dÃ¼nya
</h1>
<hr/>
<h2>
    SELAMMM
</h2>


................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
ProgramÄ±n hangi tarayÄ±cÄ±dan Ã§alÄ±ÅŸacaÄŸÄ±nÄ± play butonunun oradaa(aÅŸaÄŸÄ± yÃ¶nlÃ¼ okta) web browser kÄ±smÄ±ndan ayarlayabiliriz...
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
BÃ¶lÃ¼m Ä°Ã§erik :
Product(Ã¼rÃ¼n) Class
â€¢ Product Repository
â€¢ Product :List/Remove
Product :Add/Update

model componentinde veritabanÄ± ile ilgili kodlarÄ±n bulunduÄŸu kodlardÄ±r ve bussiness kodlarÄ±mÄ±z olabilir bussiness kodlarÄ± controllerden ve viewden uzak tutmak en mantÄ±klÄ±sÄ±dÄ±r.
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Product(Ã¼rÃ¼n) Class. 
model saÄŸ tÄ±k new class.

namespace turkcell1.Web.Models
{
    public class Product
    {

        public int Id { get; set; }
        private string Name { get; set; }

        public decimal Price { get; set; }

        public int Stock { get; set; }




    }
}
// model'de Product class'Ä± oluÅŸturduk.
// sonra ise Product iÃ§in veritabanÄ± iÅŸlemlerini yapmasÄ± iÃ§in ProductRepository class'Ä± oluÅŸturduk.

namespace turkcell1.Web.Models
{
    public class ProductRepository
    {

        private static List<Product> _products = new List<Product>();

        public List<Product> GetAll() => _products;

        public List<Product> Products()
        {
            return _products;
        }

        public void Add(Product product)
        {
            _products.Add(product);
        }

        public void Remove(int id)
        {
            var hasProduct = _products.FirstOrDefault(x=>x.Id == id);
            if (hasProduct != null)
            {
                throw new Exception($"Bu id({id})'de bir Ã¼rÃ¼n yok");
                


            }

            _products.Remove(hasProduct);


        }

        public void Update(Product updateProduct)
        {
            var hasProduct = _products.FirstOrDefault(x => x.Id == updateProduct.Id);
            if (hasProduct != null)
            {
                throw new Exception($"Bu id({updateProduct.Id})'de bir Ã¼rÃ¼n yok");



            }

            hasProduct.Name = updateProduct.Name;
            hasProduct.Price = updateProduct.Price;
            hasProduct.Stock = updateProduct.Stock;

            var index = _products.FindIndex(x=> x.Id == updateProduct.Id);
            _products[index] = hasProduct;



        }

    }
}
// crud iÅŸlemlerinin olduÄŸunu 

ÅŸimdi ise bir controller oluÅŸturduk.... metotuna ise ad view ekledik. razor olanÄ±.

using Microsoft.AspNetCore.Mvc;
using turkcell1.Web.Models;

namespace turkcell1.Web.Controllers
{
    public class ProductsController : Controller
    {


        private readonly ProductRepository _productRepository;

        public ProductsController()
        {
            _productRepository = new ProductRepository();
            if (!_productRepository.GetAll().Any())
            { // iÃ§inde veri yoksa bu metot Ã§alÄ±ÅŸacak.
                _productRepository.Add(new Product { Id = 1, Name = "ford", Price = 1001 });
                _productRepository.Add(new Product { Id = 2, Name = "bmw", Price = 1002 });
                _productRepository.Add(new Product { Id = 3, Name = "mercedes", Price = 1003 });

            }

        }

        public IActionResult Index()
        { // view ekledik view'e eldeki verileri gÃ¶nderdik.
            var products = _productRepository.GetAll();
            return View(products);
        }

    }
}


................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Index.cshtml SayfasÄ±nÄ±n kodlanmasÄ±.

@{
    ViewData["Title"] = "Index";
}
@model List<Product>
<h1>ÃœrÃ¼nler</h1>
<table class="table">

    <thead>
        <tr>
        <th>ID</th>
        <th>NAME</th>
        <th>PRICE</th>
            <th>STOCK</th>

        </tr>
    </thead>
    <tbody>
    @foreach(var item in Model){
        <tr>
            <td>item.Id</td>
            <td>item.Name</td>
            <td>item.Price</td>
            <td>item.Stock</td>



        </tr>
    }
    </tbody>


</table>



................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Remove Action Method'un OluÅŸturulmasÄ±.
view'den controllere data gÃ¶ndereceÄŸiz.

@{
    ViewData["Title"] = "Index";
}
@model List<Product>
<h1>ÃœrÃ¼nler</h1>
<table class="table">

    <thead>
        <tr>
        <th>ID</th>
        <th>NAME</th>
        <th>PRICE</th>
            <th>STOCK</th>
         <th>Ä°ÅLEM</th>
        </tr>
    </thead>
    <tbody>
    @foreach(var item in Model){
        <tr>
            <td>@item.Id</td>
            <td>@item.Name</td>
            <td>@item.Price</td>
            <td>@item.Stock</td>
                <td><a asp-controller="products" asp-action="Remove" asp-route-id="@item.Id">SÄ°L</a></td>


        </tr>
    }
    </tbody>


</table>



        <td><a asp-controller="products" asp-action="Remove" asp-route-id="@item.Id">SÄ°L</a></td>
a etiketi ile link oluÅŸturduk tÄ±klayÄ±nca asp-controller hangi controllera gideceÄŸini action hangi metota gideceÄŸi. asp-route-parametre adi ise hangi metotun parametresinin ne alacaÄŸÄ±nÄ± belirtir.


................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Asp.Net Core MVC projesini farklÄ± portâ€™lardan Ã§alÄ±ÅŸtÄ±rmak iÃ§in hangi dosyada deÄŸiÅŸiklik yapmamÄ±z gerekmektedir ?


ChatGPT
ASP.NET Core MVC projesini farklÄ± portlardan Ã§alÄ±ÅŸtÄ±rmak iÃ§in aÅŸaÄŸÄ±daki adÄ±mlarÄ± izleyebilirsiniz:

1. launchSettings.json dosyasÄ±nÄ± dÃ¼zenlemek
Proje yapÄ±landÄ±rma dosyasÄ±nda (Properties/launchSettings.json), uygulamanÄ±n hangi portlarda Ã§alÄ±ÅŸacaÄŸÄ±nÄ± belirleyebilirsiniz. Bu dosyada profiles bÃ¶lÃ¼mÃ¼ bulunmaktadÄ±r ve burada projeyi Ã§alÄ±ÅŸtÄ±rmak iÃ§in kullanÄ±lan farklÄ± profiller tanÄ±mlayabilirsiniz.
..................................................................

Asp.Net Core MVC ile gelen default routing patternâ€™Ä± nasÄ±ldÄ±r ?

{Controller}/{Action}/{id?}
......................................................................................................................................................
ASP.NET Core projesinde view sayfalarÄ±nda script yazmanÄ±za imkan veren default section, Scripts section'dur. DoÄŸru kullanÄ±mÄ± ise aÅŸaÄŸÄ±daki gibidir:

@await RenderSectionAsync("Scripts", required: false)
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
ASP.NET Core projelerinde wwwroot klasÃ¶rÃ¼, web uygulamanÄ±zÄ±n statik dosyalarÄ±nÄ± barÄ±ndÄ±rmak iÃ§in kullanÄ±lan klasÃ¶rdÃ¼r. Bu klasÃ¶r, istemcilere doÄŸrudan sunulacak dosyalarÄ± iÃ§erir ve genellikle CSS, JavaScript, gÃ¶rÃ¼ntÃ¼ler, fontlar ve diÄŸer statik varlÄ±klar burada bulunur.

wwwroot KlasÃ¶rÃ¼nÃ¼n GÃ¶revleri:
Statik DosyalarÄ±n BarÄ±ndÄ±rÄ±lmasÄ±:

UygulamanÄ±zda kullanÄ±lan tÃ¼m statik dosyalar wwwroot klasÃ¶rÃ¼nde barÄ±ndÄ±rÄ±lÄ±r. Bu dosyalara doÄŸrudan URL Ã¼zerinden eriÅŸilebilir.
Statik DosyalarÄ±n SunulmasÄ±:

ASP.NET Core, wwwroot klasÃ¶rÃ¼nde bulunan dosyalarÄ± otomatik olarak sunar. Bu, web sunucusunun bu dosyalarÄ± doÄŸrudan istemcilere gÃ¶ndermesine olanak tanÄ±r.
Yol HaritasÄ±:

UygulamanÄ±zda bulunan statik dosyalarÄ±n URL yollarÄ±, wwwroot klasÃ¶rÃ¼ne gÃ¶re ayarlanÄ±r. Ã–rneÄŸin, wwwroot/css/site.css dosyasÄ±na /css/site.css URL'si Ã¼zerinden eriÅŸilebilir.
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
tempData ile bir actiondan baÅŸka actiona veri taÅŸÄ±yabiliriz.
.......................................................................................................................................................................
launchSettings.json, ASP.NET Core projelerinde uygulamanÄ±n nasÄ±l baÅŸlatÄ±lacaÄŸÄ±nÄ± ve yapÄ±landÄ±rÄ±lacaÄŸÄ±nÄ± belirlemek iÃ§in kullanÄ±lan bir yapÄ±landÄ±rma dosyasÄ±dÄ±r. Bu dosya, genellikle proje klasÃ¶rÃ¼nÃ¼n Properties alt klasÃ¶rÃ¼nde bulunur. launchSettings.json, farklÄ± Ã§alÄ±ÅŸma profilleri oluÅŸturmanÄ±za ve uygulamanÄ±zÄ±n farklÄ± ortamlarda nasÄ±l Ã§alÄ±ÅŸtÄ±rÄ±lacaÄŸÄ±nÄ± belirtmenize olanak tanÄ±r.

...............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
RedirectToAction metodu, ASP.NET Core MVC'de bir action'dan baÅŸka bir action'a yÃ¶nlendirme yapmak iÃ§in kullanÄ±lÄ±r. Bu yÃ¶ntem, HTTP 302 durum kodu ile bir yeniden yÃ¶nlendirme yanÄ±tÄ± dÃ¶ner ve tarayÄ±cÄ±yÄ± belirtilen action'a yeni bir istek yapmasÄ± iÃ§in yÃ¶nlendirir.
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
ASP.NET Core uygulamalarÄ±nda veri tabanÄ± baÄŸlantÄ± dizelerinin (connection strings) genellikle bulundurulduÄŸu dosya appsettings.json dosyasÄ±dÄ±r.
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Entity kÄ±smÄ± aspnetMVC 201.

BÃ¶lÃ¼m Ä°Ã§erik :
â€¢ Entity nedÄŸ ?
â€¢ EF Coreâ€¢un avantajlarÄ± ?
â€¢ EF Coreâ€¢un dezavanta*an 7
â€¢ YaklaÅŸÄ±mlar (DatabaseFâ€irst-CdeFBt)
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
EF Core nedir?
hafif geniÅŸletilebilir ve open source veri eriÅŸim teknolojisidir.
ORM(object-relational mapping) yapabiliriz. nesne mapleme olayÄ±. veritbanÄ±ndaki sutunlarÄ± bir class ile karÅŸÄ±lanmasÄ±. verilerin nesne olarak karÅŸÄ±lanmasÄ±.
ef core'de sorgularÄ±mÄ±z linq(Language integrated Query) teknolojisi ile yazarÄ±z.
        â€¢ LINQ To Objects Collection (arraylist, list gibi collectionlar.)
        â€¢ LINQ XML
        â€¢ LINQ to Entities (Entities demek class'tÄ±r ama bu class veritabÄ±nÄ±nda tablo olarak karÅŸÄ±lÄ±ÄŸÄ± olan class'lardÄ±r.)
linq ile tip gÃ¼venli sorgular yazabiliriz.
linq (dile entegre sorgulama)

ef core ile ham sql sorgularÄ±da yazabiliriz.
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
ORM nedir ? nesne mapleme tekniÄŸidir. hibernate dopperda bÃ¶yle bir kÃ¼tÃ¼phanedir bir orm aracÄ±dÄ±r.
    iliÅŸkisel veritabanlarÄ±nda birebir veri eÅŸleÅŸtirmek iÃ§in kullanÄ±lÄ±r. entity framework'te bir orm yapÄ±sÄ±.
    mesela sunucuda 3 satÄ±rÄ± olan tablo var. tablodan bir class ve stutunlardan properityler satÄ±rlardan ise nesneler Ã¼retilir. veritabanÄ± sistemini nyp ile baÄŸlarÄ±z aslÄ±nda.


ef core olmadan veritabanÄ±na baÄŸlanmak zordur. bunu kolaylaÅŸtÄ±rÄ±r ve gÃ¼venli bir iÅŸ saÄŸlar. normalde 50 satÄ±r olan ef coresuz kodu ef core ile 1 satÄ±rda halledebiliriz.

orm ile mesela bir tablo var ve tablo adÄ±nda bir class oluÅŸur sutunlardan ise attributesler oluÅŸur mesela user class'Ä± int id propertysi name string propertysi gibi bir class oluÅŸur. tÃ¼m userleri getir dediÄŸim zaman ise o zaman tÃ¼m satÄ±rlarÄ± nesne olarak getirecek.
entity class'Ä± demek tablonun class'Ä± demektir veritabanÄ±nda bir karÅŸÄ±lÄ±ÄŸÄ± vardÄ±r demektir.
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
EF Core'un avantajlarÄ± nelerdir ?
veritabanÄ± ile tip gÃ¼venli bir ÅŸekilde Ã§alÄ±ÅŸabiliriz. bir hata yaptÄ±ÄŸÄ±mÄ±zda derleme esnasÄ±nda hatamÄ±zÄ± gÃ¶rebiliriz.
veritabanÄ± ile ilgili tÃ¼m sÃ¼reci soyutlar. gereksiz sorgu baÄŸlantÄ± vs yapmÄ±yoruz temiz kod yazabiliyoruz. kod daha okunabilir oluyor. veri Ã§ekme okuma vs sÃ¼reÃ§ soyutlanmÄ±ÅŸ ÅŸekilde oluyor. kod daha sÃ¼rdÃ¼rÃ¼lebilir daha kolay gÃ¼ncellenebilir kodlar yazabiliyoruz.
ef core aradaki sÃ¼reci soyutladÄ±ÄŸÄ± iÃ§in az kod deÄŸiÅŸikliÄŸi ile veritabanÄ± deÄŸiÅŸimi yapabiliriz. daha kolay gÃ¼ncelenebilir sistemler kurabiliriz.
sql injection gibi zaafiyetlere karÅŸÄ± doÄŸal korumasÄ± vardÄ±r(sorgu yerine script yazarak veritabanÄ±nÄ± Ã§Ã¶kertebilirler) bizim yerimize koruma saÄŸlar.
veritabanÄ± ile tÃ¼m iÅŸlemlerimizi kod iÃ§erisinden yapabiliriz. veritabanÄ± aÃ§madan veritabanÄ±nÄ± yÃ¶netebiliriz. tek yerden veritabanÄ±nÄ± yÃ¶netebiliriz.
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
EF Core'un dezavantajlarÄ± nelerdir ?
aslÄ±nda Ã§ok dezavantajÄ± yok. bir tÄ±k yavaÅŸ.
veritabanÄ± ile ilgili iÅŸlemi soyutladÄ±ÄŸÄ± iÃ§in biraz yavaÅŸlama yapar. elle Ã§ok profesyonel yazarsan hÄ±zlÄ± olur ef core'den.
ef core tarafÄ±ndan oluÅŸturulan sorgulara kesinlikle mÃ¼dahale edemeyiz. koruma sistemi var. aralara girebiliyoruz ÅŸunu al sadece price ve stok getir gibi komut verebiliriz.
%100 mÃ¼dahale istersek linq yerine ham sql sorgucuklarÄ±da yazabiliriz. ama tip gÃ¼venli ve sql injection'a karÅŸÄ± ef core kullanmak daha mantÄ±klÄ±dÄ±r.
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
EF Core YaklaÅŸÄ±mlar(Database First).
uygulama geliÅŸtirilirken Ã¶nce veritabanÄ±nÄ± oluÅŸturmaktÄ±r tablolarÄ± oluÅŸtur baÄŸlantÄ±larÄ± kur sonra veritabanÄ±ndaki objelere karÅŸÄ±lÄ±k c#da class oluÅŸtur. ef core tarafÄ±nda DbContext class'tan miras alarak yaparÄ±z. tablolar entitylere karÅŸÄ±lÄ±k gelir. her bir entity bir context'e ait olmalÄ±dÄ±r.
DbSet sÄ±nÄ±fÄ±da ef core sÄ±nÄ±fÄ±ndan gelecek. 
Ã¶nce veritabanÄ± oluÅŸur sonra bu veritabanÄ±nda entitylere karÅŸÄ±lÄ±k c#da ilgili class'larÄ± vs oluÅŸtururuz.
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
EF Core YaklaÅŸÄ±mlar(Code First).
ilk olarak kodla baÅŸlarÄ±z. Ã¶nce proje oluÅŸtururuz. sonra veritabanÄ±na karÅŸÄ±lÄ±k gelecek DbContext class sonra veritabanÄ±nda tablolara karÅŸÄ±lÄ±k gelecek entityleri oluÅŸtururuz.
    sonra kodlamada yaptÄ±klarÄ±mÄ±z veritabanÄ±na yansÄ±sÄ±n diye migrations diye bir tool kullanÄ±rÄ±z. kod ile veritabanÄ± arasÄ±ndaki senkranizasyonu saÄŸlar.
    migrations komutlarÄ± ile yaptÄ±ÄŸÄ±mÄ±z deÄŸiÅŸiklikler veritabanÄ±na yansÄ±r. mesela entity ekledik o zaman veritabanÄ±nda tablo oluÅŸturur gibi.

uygulamalarda genelde code first kullanÄ±lÄ±r. veritabanÄ± aÃ§madan tÃ¼m yÃ¶netimi kodlama tarafÄ±nda yapabiliriz. bu yÃ¼zden code first yaklaÅŸÄ±mÄ± tercih edilir.
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Entity Framework KÃ¼tÃ¼phanelerinin yÃ¼klenmesi.
dependies kÄ±smÄ±- saÄŸ tÄ±k- manage NuGet Packages diyoruz. sonra searche ef core yazÄ±yoruz.
ef core farklÄ± farklÄ± veritabanlarÄ±na baÄŸlanabilir. biz sql server olanÄ± indireceÄŸiz ama veritabanÄ±na gÃ¶re seÃ§ebiliriz. 
Microsoft.EntityFrameworkCore.SqlServer.Design indiririz bide.
Microsoft.EntityFrameworkCore.Tools indiririz bide.

package manage konsol tools'ta nuget package managerde oradan nuget package console seÃ§eriz ve aÃ§Ä±lÄ±r. migrations komutlarÄ± verebiliriz. cmd Ã¼zerinden de olur ama bunu kullanÄ±rsak vs Ã¼zerinden her iÅŸi halletmiÅŸ oluruz.
        migrations komutlarÄ± cmde de Ã§alÄ±ÅŸÄ±r ama nuget package consolede Ã§alÄ±ÅŸtÄ±rmak daha iyidir.

view kÄ±smÄ±nda sql server object explorer var. bu alanla beraber ile bir Ã§ok farklÄ± db'ye baÄŸlanabiliriz.
add sql server kÄ±smÄ±ndan baÄŸlantÄ± kurabiliriz. ve databaseleri bulabiliriz.
sql server explorer ile elde giriÅŸ yetkisi varsa localdeki veya sunucudaki veritabanlarÄ±na baÄŸlanabiliriz.
sql server explorerda database sonra tabloyu bulur Ã¶nce refresh ederiz sonra propertieste connection stringi buluruz. Data Source=EMREAYTAS\SQLEXPRESS;Initial Catalog=TurkcellDB;Integrated Security=True;Connect Timeout=30;Encrypt=True;Trust Server Certificate=True;Application Intent=ReadWrite;Multi Subnet Failover=False ... bunun gibi biÅŸi.

...
projemizde appsettings.json'a geliriz.

{
  "ConnectionStrings": {
    "SqlCon": "Data Source=EMREAYTAS\\SQLEXPRESS;Initial Catalog=TurkcellDB;Integrated Security=True;Connect Timeout=30;Encrypt=True;Trust Server Certificate=True;Application Intent=ReadWrite;Multi Subnet Failover=False"

  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*"
}

// ve bu ÅŸekilde connection string'i ekleriz.


..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
DbContext sÄ±nÄ±fÄ±nÄ±n oluÅŸturulmasÄ±.
model klasorune gidip saÄŸ tÄ±k add class ismini veririz mesela AppDbContext deriz. sonra gelen classÄ± :DbContext deriz ve miras almasÄ±nÄ± saÄŸlarÄ±z DbContext'ten burasÄ± Ã¶nemli.

using Microsoft.EntityFrameworkCore;

namespace turkcell1.Web.Models
{
    public class AppDbContext:DbContext

    {


    }

}

// bu ÅŸekilde kurarÄ±z ilk baÅŸta kÄ±rmÄ±zÄ± yanar. alt + enter yaparak ilgili namespace'yi Ã§aÄŸÄ±rÄ±rÄ±z.

ctor yazar ve iki kere tab'a basarsak class iÃ§inde otomatik olarak constructor oluÅŸturur.
....................................
using Microsoft.EntityFrameworkCore;

namespace turkcell1.Web.Models
{
    public class AppDbContext:DbContext
    {

        public AppDbContext(DbContextOptions<AppDbContext> options):base(options)
        { 
            

/*
                    public AppDbContext(DbContextOptions<AppDbContext> options) : base(options)
                    public AppDbContext: Bu, AppDbContext adlÄ± bir sÄ±nÄ±fÄ±n yapÄ±cÄ± metodudur. YapÄ±cÄ± metot, sÄ±nÄ±ftan bir nesne oluÅŸturulduÄŸunda ilk olarak Ã§alÄ±ÅŸtÄ±rÄ±lan metottur.

                    (DbContextOptions<AppDbContext> options): YapÄ±cÄ± metodun parametresidir. DbContextOptions<TContext> tÃ¼rÃ¼nde bir options parametresi alÄ±r. Bu parametre, veritabanÄ± baÄŸlamÄ±nÄ±n yapÄ±landÄ±rma seÃ§eneklerini iÃ§erir.

                    : base(options): Bu, AppDbContext sÄ±nÄ±fÄ±nÄ±n temel sÄ±nÄ±fÄ± olan DbContext sÄ±nÄ±fÄ±nÄ±n yapÄ±cÄ± metoduna options parametresini geÃ§irdiÄŸini belirtir. Yani, AppDbContext sÄ±nÄ±fÄ± oluÅŸturulurken options parametresi DbContext sÄ±nÄ±fÄ±na iletilir ve bu sayede veritabanÄ± baÄŸlantÄ± seÃ§enekleri yapÄ±landÄ±rÄ±lÄ±r.
*/
            

        }



    }

}

............................................


            using Microsoft.EntityFrameworkCore;

            namespace turkcell1.Web.Models
            {
                public class AppDbContext:DbContext
                {


                    public AppDbContext(DbContextOptions<AppDbContext> options):base(options)
                    { 


                        


                        

                    }

                    public DbSet<Product> Products { get; set; } // bir db set oluÅŸturuyoruz. ve tabloya denk gelen o yapÄ±. ef core direkt olarak databasede Products'u arar isimlerinin aynÄ± olmasÄ± mantÄ±klÄ±dÄ±r. eÄŸer Ã¶yle yapmazsak baÅŸka isim vermek istersek o zaman Product sÄ±nÄ±fÄ±na gider class'Ä±n Ã¼stÃ¼ne [Table("Products")] yazmamÄ±z lazÄ±m. dbde maplenecek olan Products tablosudur.

                    // bunu yaptÄ±ktan sonra ise Program.cs'e girip aÅŸaÄŸÄ±dakini ekliyoruz.
                    /*
                    
            builder.Services.AddDbContext<AppDbContext>(options => { options.UseSqlServer(builder.Configuration.GetConnectionString("SqlCon")); });
                    */


                    // Program.cs'e ekleme yaptÄ±k.              builder.Services.AddDbContext<AppDbContext>(options => { options.UseSqlServer(builder.Configuration.GetConnectionString("SqlCon")); }); bunu ekledik bÃ¶ylece mesela DbContext.prodcuts dersek tÃ¼m data gelecek. soyutlamayÄ± saÄŸladÄ±k bÃ¶ylece.


                    /*

                    using Microsoft.EntityFrameworkCore;
            using turkcell1.Web.Models;

            var builder = WebApplication.CreateBuilder(args);

            // Add services to the container.
            builder.Services.AddControllersWithViews();

            builder.Services.AddDbContext<AppDbContext>(options => { options.UseSqlServer(builder.Configuration.GetConnectionString("SqlCon")); });

            var app = builder.Build();

            // Configure the HTTP request pipeline.
            if (!app.Environment.IsDevelopment())
            {
            app.UseExceptionHandler("/Home/Error");
            // The default HSTS value is 30 days. You may want to change this for production scenarios, see https://aka.ms/aspnetcore-hsts.
            app.UseHsts();
            }

            app.UseHttpsRedirection();
            app.UseStaticFiles();

            app.UseRouting();


            app.UseAuthorization();



            app.MapControllerRoute(
            name: "default",
            pattern: "{controller=Home}/{action=Index}/{id?}");

            app.Run();


                    */





                }

            }

// artÄ±k veritabanÄ±ndan veri Ã§ekebiliriz.

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Product tablosuna data kaydetmek. Ef core aracÄ±lÄ±ÄŸÄ± ile yapacaÄŸÄ±z. tÃ¼m iÅŸlemi ef core halledecek.

.......................................

using Microsoft.AspNetCore.Mvc;
using turkcell1.Web.Models;

namespace turkcell1.Web.Controllers
{
    public class ProductsController : Controller
    {


        private readonly ProductRepository _productRepository;
        private AppDbContext _context; 


        public ProductsController(AppDbContext context)
        {

            _context = context; // uygulama ayaÄŸa kalktÄ±ÄŸÄ±nda c# eÄŸer bir constructorda AppDbContext gÃ¶rÃ¼rse o zaman bundan bir tane nesne Ã¶rneÄŸi Ã¼retir ve bize verir.
            // buna Dependency injection denir yani baÄŸÄ±mlÄ±lÄ±klarÄ±n enjekte edilmesi.
            


        }




    }
} // dependies injection ile nesneyi almamÄ±zÄ± saÄŸladÄ±. bir kolaylÄ±k saÄŸladÄ±. bu yapÄ±ya ise DI container denir. ef core iÃ§inde 

......................................................................................

            using Microsoft.AspNetCore.Mvc;
            using turkcell1.Web.Models;

            namespace turkcell1.Web.Controllers
            {
                public class ProductsController : Controller
                {


                    private readonly ProductRepository _productRepository;
                    private AppDbContext _context; 


                    public ProductsController(AppDbContext context)
                    {
                        // DI container.
                        _productRepository = new ProductRepository();
                        // Dependies injection pattern bir design patterndir.

                        _context = context; // uygulama ayaÄŸa kalktÄ±ÄŸÄ±nda c# eÄŸer bir constructorda AppDbContext gÃ¶rÃ¼rse o zaman bundan bir tane nesne Ã¶rneÄŸi Ã¼retir ve bize verir. AppDbcontext nesnemizi aldÄ±k.

                        if (!_context.Products.Any()) // herhangi bir kayÄ±t yoksa bunlarÄ± ekle demektir bu.
                        {
                            _context.Add(new Product() { Name = "Kalem1", Price = 100, Stock = 100 });
                            _context.Add(new Product() { Name = "Kalem2", Price = 100, Stock = 200 });
                            _context.Add(new Product() { Name = "Kalem3", Price = 100, Stock = 300 });
                            // 3 tane data kaydettik.
                            _context.SaveChanges(); // deÄŸiÅŸiklikler veritabanÄ±na yansÄ±sÄ±n istersek eÄŸer o zaman bunu kullanÄ±rÄ±k. SaveChanges()  denene  kadar ram'de tutulur. sonra veritabanÄ±na yansÄ±tÄ±lÄ±r yansÄ±tÄ±lÄ±nca ramden silinirler.
                        }



                    }

                    public IActionResult Index()
                    {
                        var products = _context.Products.ToList(); // veritabanÄ±ndaki tÃ¼m datalarÄ± almÄ±ÅŸ oluruz bÃ¶ylece.

                        return View(products);
                    }

                    public IActionResult Remove(int id)
                    {

                        _productRepository.Remove(id);
                        return RedirectToAction("Index");
                    }

                    public IActionResult Add()
                    {
                        return View();
                    }

                    public IActionResult Update(int id)
                    {

                        return View();

                    }



                }
            }






..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Product tablosunda kayÄ±t silmek.

using Microsoft.AspNetCore.Mvc;
using turkcell1.Web.Models;

namespace turkcell1.Web.Controllers
{
    public class ProductsController : Controller
    {


        private readonly ProductRepository _productRepository;
        private AppDbContext _context; 


        public ProductsController(AppDbContext context)
        {
            // DI container.
            _productRepository = new ProductRepository();
            // Dependies injection pattern bir design patterndir.

            _context = context; // uygulama ayaÄŸa kalktÄ±ÄŸÄ±nda c# eÄŸer bir constructorda AppDbContext gÃ¶rÃ¼rse o zaman bundan bir tane nesne Ã¶rneÄŸi Ã¼retir ve bize verir. AppDbcontext nesnemizi aldÄ±k.

            if (!_context.Products.Any()) // herhangi bir kayÄ±t yoksa bunlarÄ± ekle demektir bu.
            {
                _context.Add(new Product() { Name = "Kalem1", Price = 100, Stock = 100 });
                _context.Add(new Product() { Name = "Kalem2", Price = 100, Stock = 200 });
                _context.Add(new Product() { Name = "Kalem3", Price = 100, Stock = 300 });
                // 3 tane data kaydettik.
                _context.SaveChanges(); // deÄŸiÅŸiklikler veritabanÄ±na yansÄ±sÄ±n istersek eÄŸer o zaman bunu kullanÄ±rÄ±k. SaveChanges()  denene  kadar ram'de tutulur. sonra veritabanÄ±na yansÄ±tÄ±lÄ±r yansÄ±tÄ±lÄ±nca ramden silinirler.
            }



        }

        public IActionResult Index()
        {
            var products = _context.Products.ToList(); // veritabanÄ±ndaki tÃ¼m datalarÄ± almÄ±ÅŸ oluruz bÃ¶ylece.

            return View(products);
        }

        public IActionResult Remove(int id)
        {
            var product = _context.Products.Find(id); // nesneyi bul.
            _context.Products.Remove(product); // nesneyi sil komutu komut bellekte iÅŸlenmesi iÃ§in SaveChanges lazÄ±m.
            _context.SaveChanges(); // deÄŸiÅŸiklikleri kaydet.


            return RedirectToAction("Index");
        }

        public IActionResult Add()
        {
            return View();
        }

        public IActionResult Update(int id)
        {

            return View();

        }

    }
} // Remove metotunda deÄŸiÅŸim yaptÄ±k.


..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Product tablosuna yeni sÃ¼tunlar eklemek.
Åimdi Code first yapacaÄŸÄ±z bundan Ã¶nce db first yaptÄ±k veritabanÄ±nda producta karÅŸÄ±lÄ±k gelen yapÄ± kurduk.
Åimdi ise Color Width ve Height ekledik. veritabanÄ± yÃ¶netim sisteminden. Åimdi ise Product Class'Ä±na bu proplarÄ± ekleriz.

namespace turkcell1.Web.Models
{
    public class Product
    {

        public int Id { get; set; }
        public string Name { get; set; }

        public decimal Price { get; set; }

        public int Stock { get; set; }
        public string? Color { get; set; }

        public int? Width { get; set; } // ? bunun anlamÄ± nullable olabilir null deÄŸer alabilir buna mÃ¼sade et demektir.

        public int? Height{ get; set; }

    }
}

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Nullable Ã–zelliÄŸi. .Net 6 ile default olarak aÃ§Ä±k gelen nullable Ã¶zelliÄŸi anlatÄ±lmaktadÄ±r.
.net 6 ile otomatik olarak aÃ§Ä±k gelir 6 ve Ã¼stÃ¼nde.
projenin properties'inden gÃ¶rebiliriz.
amacÄ± ÅŸudur. bir uygulamada nullable hatalarÄ±nÄ±n Ã¶nÃ¼ne geÃ§mek.
evet veri null alabilir ama c# bizden nullable olabilceÄŸinin garantisini ister.

int? string? gibi kullanÄ±lÄ±r. ? koyarsak o zaman bazÄ± metotlarÄ± kullanma ÅŸansÄ± kazanÄ±rÄ±z bize esneklik saÄŸlar.
string gibi referance tiplilere ? koymak metot kazandÄ±rmaz bize dizayn sÄ±rasÄ±nda uyarÄ±dan kurtarÄ±r. 
nullable olabilir bana aÃ§Ä±k aÃ§Ä±k belirt der c#.


C# dilinde nullable terimi, bir deÄŸiÅŸkenin null deÄŸerini alÄ±p almayacaÄŸÄ±nÄ± belirten bir Ã¶zelliktir. null, bir referans tÃ¼rÃ¼ iÃ§in geÃ§erli bir deÄŸer olup, o deÄŸiÅŸkenin herhangi bir nesneye iÅŸaret etmediÄŸini ifade eder. DeÄŸer tÃ¼rleri (Ã¶rneÄŸin, int, bool, float) varsayÄ±lan olarak null deÄŸerini alamazlar. Ancak, nullable tÃ¼rler kullanarak bu deÄŸer tÃ¼rlerinin de null olabilmesi saÄŸlanabilir.

Nullable DeÄŸer TÃ¼rleri
DeÄŸer tÃ¼rlerini nullable hale getirmek iÃ§in ? iÅŸareti kullanÄ±lÄ±r. Ã–rneÄŸin:

int? nullableInt = null;
bool? nullableBool = true;
Bu ÅŸekilde tanÄ±mlanan deÄŸiÅŸkenler, hem kendi tÃ¼rlerinden bir deÄŸer hem de null deÄŸerini alabilirler.

Nullable Referans TÃ¼rleri
C# 8.0 ve sonrasÄ± sÃ¼rÃ¼mlerde, nullable referans tÃ¼rleri konsepti de eklenmiÅŸtir. Bu Ã¶zellik, referans tÃ¼rlerinin null deÄŸerini alÄ±p almayacaÄŸÄ±nÄ± belirler. VarsayÄ±lan olarak, referans tÃ¼rleri nullable kabul edilir, yani null olabilirler. Ancak, nullable referans tÃ¼rleri Ã¶zelliÄŸi etkinleÅŸtirildiÄŸinde, referans tÃ¼rlerinin null olup olamayacaÄŸÄ± daha aÃ§Ä±k bir ÅŸekilde ifade edilir.

Nullable referans tÃ¼rlerini kullanmak iÃ§in, deÄŸiÅŸkenlerin null olabileceÄŸini ? iÅŸaretiyle belirtiriz:


string? nullableString = null;
Bu ÅŸekilde tanÄ±mlanan bir string deÄŸiÅŸken, null deÄŸerini alabilir. Nullable referans tÃ¼rleri Ã¶zelliÄŸi etkinleÅŸtirildiÄŸinde, nullable olmayan referans tÃ¼rlerine null atamak derleyici hatasÄ±na neden olur.

Nullable KullanÄ±mÄ±nÄ±n AvantajlarÄ±
Hata Ã–nleme: Nullable tÃ¼rler, potansiyel null referans hatalarÄ±nÄ± (null reference exceptions) azaltmaya yardÄ±mcÄ± olabilir.
Esneklik: Nullable tÃ¼rler, belirli bir durumda deÄŸer olmayabileceÄŸini ifade etmek iÃ§in kullanÄ±ÅŸlÄ±dÄ±r.
Kod OkunabilirliÄŸi: Nullable tÃ¼rler, kodun niyetini daha aÃ§Ä±k bir ÅŸekilde belirtir, bu da kodun bakÄ±mÄ±nÄ± ve anlaÅŸÄ±lmasÄ±nÄ± kolaylaÅŸtÄ±rÄ±r.
Ã–rnek KullanÄ±m

int? age = null;
if (age.HasValue)
{
    Console.WriteLine($"Age: {age.Value}");
}
else
{
    Console.WriteLine("Age is not provided.");
}
YukarÄ±daki Ã¶rnekte, age nullable bir int olarak tanÄ±mlanmÄ±ÅŸ ve null deÄŸeri atanmÄ±ÅŸtÄ±r. HasValue Ã¶zelliÄŸi, deÄŸiÅŸkenin bir deÄŸer iÃ§erip iÃ§ermediÄŸini kontrol eder. EÄŸer age bir deÄŸer iÃ§eriyorsa, Value Ã¶zelliÄŸi ile bu deÄŸer alÄ±nÄ±r.

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Code-First Migration. Ef Core ile Code-First yaklaÅŸÄ±mÄ±nÄ±n nasÄ±l kullanÄ±lacaÄŸÄ± ve migration komutlarÄ± anlatÄ±lmaktadÄ±r.
code first daha fazla kullanÄ±lan daha saÄŸlÄ±klÄ± uygulama geliÅŸtirme yoludur. Ã¶nce kodlarÄ± yazar sonra migrations sayesinde veritabanÄ± ve tablolara dÃ¶nÃ¼ÅŸÃ¼yor.

Migrations (4 adet komutu var aÅŸaÄŸÄ±daki 4 tanesi.)
â€¢ Add-migration
â€¢ Remove-migration
â€¢ Update-database
â€¢ Script-migration
...................


package manager konsola giriyoruz. add-migration initial diyince initial adÄ±nda migrations oluÅŸturur.
Migrations klasoru geldi ve iki tane sayfa var iÃ§inde.
random_initial iÃ§inde komutlar var. Id kolonunu otomatik primary key ve otomatik artan yapmÄ±ÅŸ.


            using Microsoft.EntityFrameworkCore.Migrations;

            #nullable disable

            namespace turkcell1.Web.Migrations
            {
                public partial class initial : Migration
                {
                    protected override void Up(MigrationBuilder migrationBuilder)
                    {
                        migrationBuilder.CreateTable(
                            name: "Products",
                            columns: table => new
                            {
                                Id = table.Column<int>(type: "int", nullable: false)
                                    .Annotation("SqlServer:Identity", "1, 1"),
                                Name = table.Column<string>(type: "nvarchar(max)", nullable: false),
                                Price = table.Column<decimal>(type: "decimal(18,2)", nullable: false),
                                Stock = table.Column<int>(type: "int", nullable: false),
                                Color = table.Column<string>(type: "nvarchar(max)", nullable: true),
                                Width = table.Column<int>(type: "int", nullable: true),
                                Height = table.Column<int>(type: "int", nullable: true)
                            },
                            constraints: table =>
                            {
                                table.PrimaryKey("PK_Products", x => x.Id);
                            });
                    }

                    protected override void Down(MigrationBuilder migrationBuilder)
                    {
                        migrationBuilder.DropTable(
                            name: "Products");
                    }
                }
            }

// bunlardan sonra update-database diyerek deÄŸiÅŸiklikleri veritabanÄ±na yerleÅŸtiririz.


..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Remove Migration. Code-First yaklaÅŸÄ±mÄ±nda remove-migration komutunun nasÄ±l kullanÄ±lacaÄŸÄ± anlatÄ±lmaktadÄ±r.
mesela 2 tane sutunu kaldÄ±rdÄ±k class'tan. sonra add-migration RemoveMigration dedik.

using Microsoft.EntityFrameworkCore.Migrations;

#nullable disable

namespace turkcell1.Web.Migrations
{
    public partial class RemoveWidthHeight : Migration
    {
        protected override void Up(MigrationBuilder migrationBuilder)
        {
            migrationBuilder.DropColumn(
                name: "Height",
                table: "Products");

            migrationBuilder.DropColumn(
                name: "Width",
                table: "Products");
        }

        protected override void Down(MigrationBuilder migrationBuilder)
        {
            migrationBuilder.AddColumn<int>(
                name: "Height",
                table: "Products",
                type: "int",
                nullable: true);

            migrationBuilder.AddColumn<int>(
                name: "Width",
                table: "Products",
                type: "int",
                nullable: true);
        }
    }
}

// deÄŸiÅŸiklikler veritabanÄ±na yansÄ±sÄ±n istersek o zaman update-database diyeceÄŸiz.
// SnapShots class'Ä± bizim aslÄ±nda son yapÄ±mÄ±zÄ±n resmini Ã§eker yeni iÅŸlemi ona gÃ¶re ayarlar elle ellenmemesi gerekir.
migrationslara ve SnapShots'lara elle mÃ¼dahale etmemek lazÄ±m.

remove-migration son yapÄ±lan migration'u siler. 
mesela migration oluÅŸturduk ama veritabanÄ±na update etmedik o zaman bile elle mÃ¼dahale etmemek lazÄ±m Ã§Ã¼nkÃ¼ SnapShots gÃ¼ncellendi buna dikkat etmek lazÄ±m.

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Update-database <Migratin Name>. Code-First yaklaÅŸÄ±mÄ±nda update-database <migration name> komutunun nasÄ±l kullanÄ±lacaÄŸÄ± anlatÄ±lmaktadÄ±r.

uygulanmÄ±ÅŸ migrationlarÄ± nasÄ±l geri alabiliriz buna bakacaÄŸÄ±z.
update-database RemoveWidthHeight  demek bu migration'a kadar olan tÃ¼m migrationlarÄ± kaldÄ±r geÃ§ersiz kÄ±l o versiyona dÃ¶n demektir.
veritabanÄ±na uygulanmÄ±ÅŸ migrationu silemeyiz. hata verir. database'de uygulanmÄ±ÅŸ ise silemeyiz. Ã¶nce ondan Ã¶ncesine geri dÃ¶n sonra sil hatasÄ± alÄ±rÄ±z.

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Script-Migration.  Code-First yaklaÅŸÄ±mÄ±nda script-migration komutunun nasÄ±l kullanÄ±lacaÄŸÄ± anlatÄ±lmaktadÄ±r.

Script-migration migrationlarÄ± alÄ±yor ve sqlserverda Ã§alÄ±ÅŸabilecek bir script dosyasÄ± oluÅŸturuyor.

script-migration komutu verdik ve iÃ§eriÄŸi aÅŸaÄŸÄ±daki komutlar olan sql dosyasÄ± geldi.

                IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
                BEGIN
                    CREATE TABLE [__EFMigrationsHistory] (
                        [MigrationId] nvarchar(150) NOT NULL,
                        [ProductVersion] nvarchar(32) NOT NULL,
                        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
                    );
                END;
                GO

                BEGIN TRANSACTION;
                GO

                CREATE TABLE [Products] (
                    [Id] int NOT NULL IDENTITY,
                    [Name] nvarchar(max) NOT NULL,
                    [Price] decimal(18,2) NOT NULL,
                    [Stock] int NOT NULL,
                    [Color] nvarchar(max) NULL,
                    [Width] int NULL,
                    [Height] int NULL,
                    CONSTRAINT [PK_Products] PRIMARY KEY ([Id])
                );
                GO

                INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
                VALUES (N'20240723062919_initial', N'6.0.32');
                GO

                COMMIT;
                GO

                BEGIN TRANSACTION;
                GO

                DECLARE @var0 sysname;
                SELECT @var0 = [d].[name]
                FROM [sys].[default_constraints] [d]
                INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
                WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Products]') AND [c].[name] = N'Height');
                IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Products] DROP CONSTRAINT [' + @var0 + '];');
                ALTER TABLE [Products] DROP COLUMN [Height];
                GO

                DECLARE @var1 sysname;
                SELECT @var1 = [d].[name]
                FROM [sys].[default_constraints] [d]
                INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
                WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Products]') AND [c].[name] = N'Width');
                IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Products] DROP CONSTRAINT [' + @var1 + '];');
                ALTER TABLE [Products] DROP COLUMN [Width];
                GO

                INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
                VALUES (N'20240723065133_RemoveWidthHeight', N'6.0.32');
                GO

                COMMIT;
                GO

neler oluÅŸtuysa ÅŸu ana kadar bu sql dosyasÄ±nÄ± veritabanÄ±nda Ã§alÄ±ÅŸtÄ±rÄ±rsak hepsini gerÃ§ekleÅŸtirir.

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
BÃ¶lÃ¼m iÃ§erik :
..KullanÄ±cÄ±dan veri alma yÃ¶ntemleri
..HttpGet ve HttpPost method tipleri Ä°le veri alma YÃ¶ntemleri,
..Add ve Update sayfalarÄ±nÄ±n kodlanmasÄ±
..Model Binding Attribute
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
KullanÄ±cÄ±dan Veri Alma YÃ¶ntemi (Model Binding) 1.AdÄ±m. KullanÄ±cÄ±dan form aracÄ±lÄ±ÄŸÄ± veri alma yÃ¶ntemi anlatÄ±lmaktadÄ±r.
kullanÄ±cÄ±dan veri alacaÄŸÄ±z alabilmek iÃ§in veri girebileceÄŸi alanlar yaratmamÄ±z lazÄ±m.

view klasoru product add sayfasÄ±...
@{
    ViewData["Title"] = "Add";
}

<h1>EKLEME</h1>

<form>

    <input type = "text" name = "Name"/> @*deÄŸerleri backend tarafÄ±na yollarÄ±z. name ile backend'de kullanÄ±cÄ±nÄ±n girmiÅŸ olduÄŸu datalarÄ± yakalamak iÃ§in kullanÄ±rÄ±z. id'yi ise javascript iÃ§in kullanÄ±rÄ±z.*@
    <input type = "text" name = "Price"/>
    <input type = "text" name = "Stock"/>
    <input type = "text" name = "Color"/>

    <button type = "submit">ÃœrÃ¼n Kaydet</button> @*type submit olmalÄ± ki deÄŸer sunucuya gitsin.*@



</form>

......................
        [HttpPost] // datalarÄ± request'in bodysinde alacaÄŸÄ± iÃ§in tip belirttik.
        public IActionResult SaveProduct() { 
        
            return View();

        }
......................
[HttpPost] attribute'u, bir HTTP POST isteÄŸine yanÄ±t vermesi gereken bir yÃ¶ntem olduÄŸunu belirtir. Bu tÃ¼r istekler genellikle sunucuya veri gÃ¶ndermek iÃ§in kullanÄ±lÄ±r. Ã–rneÄŸin, bir form gÃ¶nderdiÄŸinizde veya veri oluÅŸturduÄŸunuzda bir POST isteÄŸi gÃ¶nderirsiniz.

SaveProduct yÃ¶ntemi bir Ã¼rÃ¼n kaydetme iÅŸlemi gerÃ§ekleÅŸtirecekse, bu iÅŸlem sÄ±rasÄ±nda kullanÄ±cÄ±nÄ±n gÃ¶nderdiÄŸi veriler sunucuya POST isteÄŸi ile gÃ¶nderilecektir. Bu nedenle, bu yÃ¶ntemi [HttpPost] ile iÅŸaretlemek mantÄ±klÄ±dÄ±r. KÄ±saca, [HttpPost] kullanmamÄ±zÄ±n sebebi, bu yÃ¶ntemin veri gÃ¶ndermeye yÃ¶nelik bir istekle Ã§aÄŸrÄ±lmasÄ±nÄ± istememizdir.

Ã–zetle, [HttpPost] kullanmanÄ±n nedeni:

KullanÄ±cÄ±dan sunucuya veri gÃ¶ndermek iÃ§in POST isteÄŸini kullanmak.
Bu yÃ¶ntemle genellikle form verileri veya yeni veri ekleme iÅŸlemleri yapÄ±lÄ±r.
GÃ¼venlik aÃ§Ä±sÄ±ndan GET isteÄŸinden daha gÃ¼venli kabul edilir Ã§Ã¼nkÃ¼ veri URL'de deÄŸil, isteÄŸin gÃ¶vdesinde taÅŸÄ±nÄ±r.
......................


@{
    ViewData["Title"] = "Add";
}

<h1>EKLEME</h1>

<form asp-controller="Products" asp-action="SaveProduct" method="post">  tag helperlar ile hangi kontroller hangi IActionResult'a gideceÄŸi ve metotun hangi tipte olduÄŸunu belirttik.

    <label>ÃœrÃ¼n Ä°smi</label>
    <input type = "text" name = "Name"/>
    <br />    <label>ÃœrÃ¼n Fiyat</label>

    <input type = "text" name = "Price"/>
    <br />    <label>ÃœrÃ¼n Stok</label>

    <input type = "text" name = "Stock"/>
    <br />     <label>ÃœrÃ¼n Renk</label>

    <input type = "text" name = "Color"/>
    <br />

    <button type = "submit">ÃœrÃ¼n Kaydet</button>

</form>

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Girilen veri almak iÃ§in.
        [HttpPost] // datalarÄ± request'in bodysinde alacaÄŸÄ± iÃ§in tip belirttik.
        public IActionResult SaveProduct() {
            // 1. yÃ¶ntem olarak.
            var name = HttpContext.Request.Form["Name"]; // tag'a gÃ¶re alÄ±r veriyi.
            var price = HttpContext.Request.Form["Price"];

            var stock = HttpContext.Request.Form["Stock"];

            var color = HttpContext.Request.Form["Color"];

            return View();

        }
// bu sistem ile butona basÄ±p Ã¼rÃ¼n ekle dediÄŸimiz zaman ProductsController'deki bu metota veriler aktarÄ±lacak.

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
using Microsoft.AspNetCore.Mvc;
using turkcell1.Web.Models;

namespace turkcell1.Web.Controllers
{
    public class ProductsController : Controller
    {


        private readonly ProductRepository _productRepository;
        private AppDbContext _context; 


        public ProductsController(AppDbContext context)
        {
            // DI container.
            _productRepository = new ProductRepository();
            // Dependies injection pattern bir design patterndir.

            _context = context; // uygulama ayaÄŸa kalktÄ±ÄŸÄ±nda c# eÄŸer bir constructorda AppDbContext gÃ¶rÃ¼rse o zaman bundan bir tane nesne Ã¶rneÄŸi Ã¼retir ve bize verir. AppDbcontext nesnemizi aldÄ±k.

            /*
            if (!_context.Products.Any()) // herhangi bir kayÄ±t yoksa bunlarÄ± ekle demektir bu.
            {
                _context.Add(new Product() { Name = "Kalem1", Price = 100, Stock = 100,Color = "Red" });
                _context.Add(new Product() { Name = "Kalem2", Price = 100, Stock = 200, Color = "Red" });
                _context.Add(new Product() { Name = "Kalem3", Price = 100, Stock = 300, Color = "Red"});
                // 3 tane data kaydettik.
                _context.SaveChanges(); // deÄŸiÅŸiklikler veritabanÄ±na yansÄ±sÄ±n istersek eÄŸer o zaman bunu kullanÄ±rÄ±k. SaveChanges()  denene  kadar ram'de tutulur. sonra veritabanÄ±na yansÄ±tÄ±lÄ±r yansÄ±tÄ±lÄ±nca ramden silinirler.
            }
            */




        }

        public IActionResult Index()
        {
            var products = _context.Products.ToList(); // veritabanÄ±ndaki tÃ¼m datalarÄ± almÄ±ÅŸ oluruz bÃ¶ylece.

            return View(products);
        }

        public IActionResult Remove(int id)
        {
            var product = _context.Products.Find(id); // nesneyi bul.
            _context.Products.Remove(product); // nesneyi sil komutu komut bellekte iÅŸlenmesi iÃ§in SaveChanges lazÄ±m.
            _context.SaveChanges(); // deÄŸiÅŸiklikleri kaydet.


            return RedirectToAction("Index");
        }

        public IActionResult Add()
        {
            return View();
        }

        [HttpPost] // datalarÄ± request'in bodysinde alacaÄŸÄ± iÃ§in tip belirttik.
        public IActionResult SaveProduct() {
            // 1. yÃ¶ntem olarak.
            var name = HttpContext.Request.Form["Name"].ToString(); // keyler ile verileri alÄ±rÄ±z.
            var price = Decimal.Parse(HttpContext.Request.Form["Price"]);

            var stock = int.Parse(HttpContext.Request.Form["Stock"]);

            var color = HttpContext.Request.Form["Color"].ToString();

            Product newProduct = new Product() { Name = name,Price = price,Stock = stock,Color = color};

            _context.Products.Add(newProduct);
            _context.SaveChanges();



            return RedirectToAction("Index");

        }


        public IActionResult Update(int id)
        {

            return View();

        }

    }
}

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
KullanÄ±cÄ±dan Veri Alma YÃ¶ntemi (Model Binding) Method Parametre ile. KullanÄ±cÄ±dan form aracÄ±lÄ±ÄŸÄ± ile method parametresi Ã¼zerinden veri alma yÃ¶ntemi anlatÄ±lmaktadÄ±r.

using Microsoft.AspNetCore.Mvc;
using turkcell1.Web.Models;

namespace turkcell1.Web.Controllers
{
    public class ProductsController : Controller
    {


        private readonly ProductRepository _productRepository;
        private AppDbContext _context; 


        public ProductsController(AppDbContext context)
        {
            // DI container.
            _productRepository = new ProductRepository();
            // Dependies injection pattern bir design patterndir.

            _context = context; // uygulama ayaÄŸa kalktÄ±ÄŸÄ±nda c# eÄŸer bir constructorda AppDbContext gÃ¶rÃ¼rse o zaman bundan bir tane nesne Ã¶rneÄŸi Ã¼retir ve bize verir. AppDbcontext nesnemizi aldÄ±k.

            /*
            if (!_context.Products.Any()) // herhangi bir kayÄ±t yoksa bunlarÄ± ekle demektir bu.
            {
                _context.Add(new Product() { Name = "Kalem1", Price = 100, Stock = 100,Color = "Red" });
                _context.Add(new Product() { Name = "Kalem2", Price = 100, Stock = 200, Color = "Red" });
                _context.Add(new Product() { Name = "Kalem3", Price = 100, Stock = 300, Color = "Red"});
                // 3 tane data kaydettik.
                _context.SaveChanges(); // deÄŸiÅŸiklikler veritabanÄ±na yansÄ±sÄ±n istersek eÄŸer o zaman bunu kullanÄ±rÄ±k. SaveChanges()  denene  kadar ram'de tutulur. sonra veritabanÄ±na yansÄ±tÄ±lÄ±r yansÄ±tÄ±lÄ±nca ramden silinirler.
            }
            */




        }

        public IActionResult Index()
        {
            var products = _context.Products.ToList(); // veritabanÄ±ndaki tÃ¼m datalarÄ± almÄ±ÅŸ oluruz bÃ¶ylece.

            return View(products);

        }

        public IActionResult Remove(int id)
        {
            var product = _context.Products.Find(id); // nesneyi bul.
            _context.Products.Remove(product); // nesneyi sil komutu komut bellekte iÅŸlenmesi iÃ§in SaveChanges lazÄ±m.
            _context.SaveChanges(); // deÄŸiÅŸiklikleri kaydet.


            return RedirectToAction("Index");
        }

        // aslÄ±nda metotun Ã¼stende default olarak bir [HttpGet] var
        [HttpGet]
        public IActionResult Add()
        {
            return View();
        }

        [HttpPost] // datalarÄ± request'in bodysinde alacaÄŸÄ± iÃ§in tip belirttik.
        // bir request var bunun bir head ve body kÄ±smÄ± var HttpPost'u seÃ§ersek eÄŸer veriler bu requestin bodysinde gelir ÅŸifrelenerek gelir servera geldiÄŸinde aÃ§Ä±lÄ±r gÃ¼venli bir ÅŸekilde alÄ±r.
        // get metotu vardÄ±r datalar url ile taÅŸÄ±nÄ±r ama gÃ¼venli deÄŸildir.

        public IActionResult Add(string Name,decimal Price,int Stock,string Color) { // bu parametrelerin ismi form nesnesindeki taglarla aynÄ± olmalÄ±dÄ±r.
            // kullanÄ±cÄ±dan aldÄ±ÄŸÄ±mÄ±z datalarÄ± bir metotun parametreleri Ã¼zerinden nasÄ±l alÄ±rÄ±z. asp form'daki taglarÄ±(frontend'deki taglarÄ±) metota parametre olarak geÃ§ersek otomatik olarak verileri alÄ±r parametrelere koyar.


            Product newProduct = new Product() { Name = Name,Price = Price,Stock = Stock,Color = Color};

            _context.Products.Add(newProduct);
            _context.SaveChanges();



            return RedirectToAction("Index");

        }


        public IActionResult Update(int id)
        {

            return View();

        }



    }
}

// bu yÃ¶ntem veri almak iÃ§in daha fazla kullanÄ±lan daha mantÄ±klÄ± yÃ¶ntemdir.
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
KullanÄ±cÄ±dan Veri Alma YÃ¶ntemi (Model Binding) Class(SÄ±nÄ±f) ile. KullanÄ±cÄ±dan form aracÄ±lÄ±ÄŸÄ± ile sÄ±nÄ±f parametresi Ã¼zerinden veri alma yÃ¶ntemi anlatÄ±lmaktadÄ±r.


@{
    ViewData["Title"] = "Add";
}
@model Product 

<h1>EKLEME</h1>

<form asp-controller="Products" asp-action="Add" method="post">

    <label>ÃœrÃ¼n Ä°smi</label>
    <input type = "text" asp-for = "Name"/>
    <br />    <label>ÃœrÃ¼n Fiyat</label>

    <input type="text" asp-for="Price" />
    <br />    <label>ÃœrÃ¼n Stok</label>

    <input type="text" asp-for="Stock" />
    <br />     <label>ÃœrÃ¼n Renk</label>

    <input type="text" asp-for="Color" />
    <br />

    <button type = "submit">ÃœrÃ¼n Kaydet</button>



  
</form>
// butona bastÄ±ÄŸÄ±m zaman @model Product ile bir Product Ã¼retilecek ve asp-for ile verileri doldurulacak sonra ise Add IActionResult'a parametre olarak gelecek nesne.

.................. // burada bir nesne olarak olarak alacak ve asp-for tagÄ± kullanarak nesnenin attributetelerine gelecek verileri belirleriz.

        public IActionResult Add(Product newProduct) { // gelecek olan nesne model tagÄ± sayesinde buraya parametre olarak gelecek. tip gÃ¼venli olarak kullanabileceÄŸiz.


            _context.Products.Add(newProduct);
            _context.SaveChanges();



            return RedirectToAction("Index");

        }

// bÃ¶ylece tip gÃ¼venli bir ÅŸekilde verileri alabiliriz.         
// gÃ¼venli olan verileri requestlerin body'sinde taÅŸÄ±maktÄ±r.
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
KullanÄ±cÄ±dan Veri Alma YÃ¶ntemi (Model Binding) HttpGet
Post deÄŸilde Get ile alacaÄŸÄ±z. En uygun yÃ¶ntem Post ile almaktÄ±r Nesne olarak almaktÄ±r alÄ±nacak veriyi. 
Get ile almak Ã§ok saÄŸlÄ±klÄ± deÄŸildir.
Get ile alÄ±rsak request'in stringinde gelir veriler Ã§ok gÃ¼venli deÄŸildir.

urlde Query string olarak taÅŸÄ±nacak veriler. mesela tc vs vs var o zaman Ã§ok saÄŸlÄ±ksÄ±z ve gÃ¼vensiz olarak gelir. ssl ile siteler yayÄ±nlansansa bile sorun olur iyi bir yÃ¶ntem deÄŸildir. ve taÅŸÄ±nabilecek data miktarÄ± sÄ±nÄ±rlÄ±dÄ±r.



@{
    ViewData["Title"] = "Add";
}
@model Product

<h1>EKLEME</h1>

<form asp-controller="Products" asp-action="SaveProduct" method="get"> @*get yaptÄ±k metotu ve actionu belirledik.*@

    <label>ÃœrÃ¼n Ä°smi</label>
    <input type = "text" asp-for = "Name"/>
    <br />    <label>ÃœrÃ¼n Fiyat</label>

    <input type="text" asp-for="Price" />
    <br />    <label>ÃœrÃ¼n Stok</label>

    <input type="text" asp-for="Stock" />
    <br />     <label>ÃœrÃ¼n Renk</label>

    <input type="text" asp-for="Color" />
    <br />

    <button type = "submit">ÃœrÃ¼n Kaydet</button>



  
</form>
............................

        [HttpGet]  // Get ile alacaÄŸÄ±mÄ±z iÃ§in belirleme yaptÄ±k.
        public IActionResult SaveProduct(Product newProduct) {


            _context.Products.Add(newProduct);
            _context.SaveChanges();



            return View();

        }

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
KullanÄ±cÄ±dan Veri Alma YÃ¶ntemi (Model Binding) Update.cshtml. ÃœrÃ¼n gÃ¼ncelleme sayfasÄ±nÄ±n kodlanmasÄ± anlatÄ±lmaktadÄ±r.


@{
    ViewData["Title"] = "Update";
}


@model Product

<h1>ÃœrÃ¼n GÃ¼ncelleme</h1>

<form asp-controller="Products" asp-action="Update" method="post">


    <input type="hidden" asp-for="Id" /> @*Id'yi hidden olarak gÃ¶nderdik ki asp bunu gÃ¶rebilsin buna gÃ¶re bir gÃ¼ncelleme yapsÄ±n.*@ 


    <label>ÃœrÃ¼n Ä°smi</label>
    <input type="text" asp-for="Name" />
    <br />    <label>ÃœrÃ¼n Fiyat</label>

    <input type="text" asp-for="Price" />
    <br />    <label>ÃœrÃ¼n Stok</label>

    <input type="text" asp-for="Stock" />
    <br />     <label>ÃœrÃ¼n Renk</label>

    <input type="text" asp-for="Color" />
    <br />

    <button type="submit">ÃœrÃ¼n GÃ¼ncelle</button>

</form>

// views product update sayfasÄ±.
.......................... // ve iki tane IActionResult doldurduk.


using Microsoft.AspNetCore.Mvc;
using turkcell1.Web.Models;

namespace turkcell1.Web.Controllers
{
    public class ProductsController : Controller
    {


        private readonly ProductRepository _productRepository;
        private AppDbContext _context; 


        public ProductsController(AppDbContext context)
        {
            // DI container.
            _productRepository = new ProductRepository();
            // Dependies injection pattern bir design patterndir.

            _context = context; // uygulama ayaÄŸa kalktÄ±ÄŸÄ±nda c# eÄŸer bir constructorda AppDbContext gÃ¶rÃ¼rse o zaman bundan bir tane nesne Ã¶rneÄŸi Ã¼retir ve bize verir. AppDbcontext nesnemizi aldÄ±k.

            /*
            if (!_context.Products.Any()) // herhangi bir kayÄ±t yoksa bunlarÄ± ekle demektir bu.
            {
                _context.Add(new Product() { Name = "Kalem1", Price = 100, Stock = 100,Color = "Red" });
                _context.Add(new Product() { Name = "Kalem2", Price = 100, Stock = 200, Color = "Red" });
                _context.Add(new Product() { Name = "Kalem3", Price = 100, Stock = 300, Color = "Red"});
                // 3 tane data kaydettik.
                _context.SaveChanges(); // deÄŸiÅŸiklikler veritabanÄ±na yansÄ±sÄ±n istersek eÄŸer o zaman bunu kullanÄ±rÄ±k. SaveChanges()  denene  kadar ram'de tutulur. sonra veritabanÄ±na yansÄ±tÄ±lÄ±r yansÄ±tÄ±lÄ±nca ramden silinirler.
            }
            */




        }

        public IActionResult Index()
        {
            var products = _context.Products.ToList(); // veritabanÄ±ndaki tÃ¼m datalarÄ± almÄ±ÅŸ oluruz bÃ¶ylece.

            return View(products);

        }

        public IActionResult Remove(int id)
        {
            var product = _context.Products.Find(id); // nesneyi bul.
            _context.Products.Remove(product); // nesneyi sil komutu komut bellekte iÅŸlenmesi iÃ§in SaveChanges lazÄ±m.
            _context.SaveChanges(); // deÄŸiÅŸiklikleri kaydet.


            return RedirectToAction("Index");
        }

        // aslÄ±nda metotun Ã¼stende default olarak bir [HttpGet] var
        [HttpGet]
        public IActionResult Add()
        {
            return View();
        }

        [HttpPost] 
        public IActionResult Add(Product newProduct) {


            _context.Products.Add(newProduct);
            _context.SaveChanges();



            return RedirectToAction("Index");

        }



        [HttpGet]
        public IActionResult Update(int id)
        {

            var product = _context.Products.Find(id);

            return View(product); // bu sayfaya gittiÄŸi zaman sayfadaki @model Product nesneyi alacak ve textleri dolduracak.. 

        }

        [HttpPost]
        public IActionResult Update(Product updateProduct)
        {


            _context.Products.Update(updateProduct);
            _context.SaveChanges(); // deÄŸiÅŸiklikleri kaydederiz.


            return RedirectToAction("Index");

        }





    }
}

// hidden olarak bizim Id'yi gÃ¶ndermemiz lazÄ±m ki primary key'i gÃ¶rsÃ¼n ef core.
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................

KullanÄ±cÄ±dan Veri Alma YÃ¶ntemi (Model Binding) Ekleme ve GÃ¼ncelleme MesajÄ± GÃ¶stermek. ÃœrÃ¼n gÃ¼ncelleme ve ekleme iÅŸlemlerini sonrasÄ±nda listeleme sayfasÄ±nda mesaj gÃ¶sterme konusu anlatÄ±lmaktadÄ±r.
bir viewden bir viewe temp data ile taÅŸÄ±ma yapacaÄŸÄ±z.
TempData ile bir veri taÅŸÄ±yÄ±nca sayfaya o zaman iÃ§i boÅŸalÄ±r ve null olur.

@{
    ViewData["Title"] = "Index";
}
@model List<Product>
<h1>ÃœrÃ¼nler</h1>

@if(TempData["status"] != null) @*TempData'nÄ±n iÃ§i boÅŸ mu deÄŸil mi bakacaÄŸÄ±z.*@
{
    <div class="alert alert-primary" role="alert">
        @TempData["status"] @*TempData bir kere gÃ¶rÃ¼ntÃ¼lenecek sonra iÃ§indeki veri null olacak.*@

    </div>

}


<a asp-controller="products" asp-action="Add">ÃœrÃ¼n ekle</a>
<table class="table">

    <thead>
        <tr>
        <th>ID</th>
        <th>NAME</th>
        <th>PRICE</th>
            <th>STOCK</th>
         <th>Ä°ÅLEM</th>
            <th>RENK</th>

        </tr>
    </thead>
    <tbody>

    @foreach(var item in Model){
        <tr>
            <td>@item.Id</td>
            <td>@item.Name</td>
            <td>@item.Price</td>
            <td>@item.Stock</td>
            <td>@item.Color</td>

                <td><a asp-controller="products" asp-action="Remove" asp-route-id="@item.Id">SÄ°L</a>

                    <a asp-controller="products" asp-action="Update" asp-route-id="@item.Id">GÃœNCELLE</a>
                
       
                    


                </td>

        </tr>
    }
    </tbody>


</table>
...................
using Microsoft.AspNetCore.Mvc;
using turkcell1.Web.Models;

namespace turkcell1.Web.Controllers
{
    public class ProductsController : Controller
    {


        private readonly ProductRepository _productRepository;
        private AppDbContext _context; 


        public ProductsController(AppDbContext context)
        {
            // DI container.
            _productRepository = new ProductRepository();
            // Dependies injection pattern bir design patterndir.

            _context = context; // uygulama ayaÄŸa kalktÄ±ÄŸÄ±nda c# eÄŸer bir constructorda AppDbContext gÃ¶rÃ¼rse o zaman bundan bir tane nesne Ã¶rneÄŸi Ã¼retir ve bize verir. AppDbcontext nesnemizi aldÄ±k.

            /*
            if (!_context.Products.Any()) // herhangi bir kayÄ±t yoksa bunlarÄ± ekle demektir bu.
            {
                _context.Add(new Product() { Name = "Kalem1", Price = 100, Stock = 100,Color = "Red" });
                _context.Add(new Product() { Name = "Kalem2", Price = 100, Stock = 200, Color = "Red" });
                _context.Add(new Product() { Name = "Kalem3", Price = 100, Stock = 300, Color = "Red"});
                // 3 tane data kaydettik.
                _context.SaveChanges(); // deÄŸiÅŸiklikler veritabanÄ±na yansÄ±sÄ±n istersek eÄŸer o zaman bunu kullanÄ±rÄ±k. SaveChanges()  denene  kadar ram'de tutulur. sonra veritabanÄ±na yansÄ±tÄ±lÄ±r yansÄ±tÄ±lÄ±nca ramden silinirler.
            }
            */




        }

        public IActionResult Index()
        {
            var products = _context.Products.ToList(); // veritabanÄ±ndaki tÃ¼m datalarÄ± almÄ±ÅŸ oluruz bÃ¶ylece.

            return View(products);

        }

        public IActionResult Remove(int id)
        {
            var product = _context.Products.Find(id); // nesneyi bul.
            _context.Products.Remove(product); // nesneyi sil komutu komut bellekte iÅŸlenmesi iÃ§in SaveChanges lazÄ±m.
            _context.SaveChanges(); // deÄŸiÅŸiklikleri kaydet.


            return RedirectToAction("Index");
        }

        // aslÄ±nda metotun Ã¼stende default olarak bir [HttpGet] var
        [HttpGet]
        public IActionResult Add()
        {
            return View();
        }

        [HttpPost] 
        public IActionResult Add(Product newProduct) {


            _context.Products.Add(newProduct);
            _context.SaveChanges();

            TempData["status"] = "ÃœrÃ¼n baÅŸarÄ± ile eklendi.";


            return RedirectToAction("Index");

        }


        [HttpGet]
        public IActionResult Update(int id)
        {

            var product = _context.Products.Find(id);


            return View(product); // bu sayfaya gittiÄŸi zaman sayfadaki @model Product nesneyi alacak ve textleri dolduracak.. 

        }

        [HttpPost]
        public IActionResult Update(Product updateProduct)
        {


            _context.Products.Update(updateProduct);
            _context.SaveChanges(); // deÄŸiÅŸiklikleri kaydederiz.
            TempData["status"] = "ÃœrÃ¼n baÅŸarÄ± ile gÃ¼ncellendi."; // TempData ile veri taÅŸÄ±masÄ± yapacaÄŸÄ±z.


            return RedirectToAction("Index");

        }





    }
}
// TempData'da cookie ile taÅŸÄ±nÄ±r. iÅŸini yaptÄ±ktan sonra iÃ§i boÅŸalÄ±r.
// Requestler arasÄ± data taÅŸÄ±mayÄ± cookieler Ã¼zerinden yaparÄ±z okuma olunca silinir. tarayÄ±cÄ±nÄ±n cookie Ã¶zelliÄŸi kapalÄ± ise taÅŸÄ±ma yapamayÄ±z.
//tarayÄ±cÄ±nÄ±n cookie Ã¶zelliÄŸi kapalÄ± ise taÅŸÄ±ma yapamayÄ±z.
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
KullanÄ±cÄ±dan Veri Alma YÃ¶ntemi (Model Binding) Hyprid Model. KullanÄ±cÄ±dan form aracÄ±lÄ±ÄŸÄ± ile hem query string'den hemde body'den veri alma yÃ¶ntemi anlatÄ±lmaktadÄ±r.



@{
    ViewData["Title"] = "Update";
}


@model Product

<h1>ÃœrÃ¼n GÃ¼ncelleme</h1>

<form asp-controller="Products" asp-action="Update" asp-route-productId ="@Model.Id" asp-route-type ="type1" accept-charset=" " method="post"> @*asp-route-parametre ismi  yapÄ±sÄ± ile metotun parametresi ne deÄŸer alacak belirleyebiliriz.*@

    <label>ÃœrÃ¼n Ä°smi</label>
    <input type="text" asp-for="Name" />
    <br />    <label>ÃœrÃ¼n Fiyat</label>

    <input type="text" asp-for="Price" />
    <br />    <label>ÃœrÃ¼n Stok</label>

    <input type="text" asp-for="Stock" />
    <br />     <label>ÃœrÃ¼n Renk</label>

    <input type="text" asp-for="Color" />
    <br />

    <button type="submit">ÃœrÃ¼n GÃ¼ncelle</button>

</form>

.....................

   [HttpPost]
   public IActionResult Update(Product updateProduct,int productId,string type)
   { // int float gibi deÄŸeler requst'in string'inde bekler Product gibi nesneler ise request'in body'sinde taÅŸÄ±nÄ±rlar bu yapÄ± ile hibrit bir Ã§Ã¶zÃ¼m Ã¼rettik.
     // Post ile gelsede query stringde gelir int float decimal gibi deÄŸerler query'nin body'sinde gelsin istersek o zaman Product nesnesine entegre edebiliriz.

       updateProduct.Id = productId;
       _context.Products.Update(updateProduct);
       _context.SaveChanges(); // deÄŸiÅŸiklikleri kaydederiz.
       TempData["status"] = "ÃœrÃ¼n baÅŸarÄ± ile gÃ¼ncellendi.";


       return RedirectToAction("Index");

   }

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Dependency Injection.
    BÃ¶lÃ¼m iÃ§erik :
            Dependency Injection Design Pattern
            Inversion Of Control principle
            Dependency Inversion principle
            DI Contoiner
            Singleton/Scope/Transient

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Dependency Injection nedir ?. Dependency Injection Design Pattern konusu anlatÄ±lmaktadÄ±r.
bir design pattern(DI)dÄ±r. bir yazÄ±lÄ±mÄ±n ihtiyaÃ§ duyduÄŸu baÄŸÄ±mlÄ±lÄ±klarÄ±n dÄ±ÅŸarÄ±dan eklenmesidir.     
bir implementasyondur. 

        Inversion Of Control principle(IOC)
        Dependency Inversion principle
        // iki prensibi var. 

Inversion Of Control principle: mesela a ve b classlarÄ±mÄ±z var. bu a class'Ä±nÄ±n gÃ¶revini yerine getirebilmesi iÃ§in b class'Ä±na ihtiyacÄ± var. bu prensip ÅŸunu der a class'Ä± iÃ§inde b class'Ä± olmasÄ±n, b class'Ä± dÄ±ÅŸarÄ±dan a'nÄ±n iÃ§erisine gelsin. b class'Ä± dÄ±ÅŸarÄ±dan gelirse tÃ¼m sÃ¼reÃ§ dÄ±ÅŸarÄ±da olucak. a class'Ä± b class'Ä±nÄ±n yaÅŸam dÃ¶ngÃ¼sÃ¼ne karÄ±ÅŸmÄ±yor sorumluÄŸu almÄ±yor daha sorunsuz bir sÃ¼reÃ§ oluyor.
        taksiye binip bir yere gitmek gibi tÃ¼m sorumluluk takside.  ama kendi arabamÄ±z olsaydÄ± lastiÄŸi benzini her ÅŸeyiyle biz uÄŸraÅŸÄ±caktÄ±k. deÄŸiÅŸim yaptÄ±ÄŸÄ±mÄ±z zaman Ã§ok fazla uÄŸraÅŸmamÄ±z lazÄ±mdÄ± ama taksiden inip baÅŸka taksiye binmek kolaydÄ±r. tÃ¼m sÃ¼reci dÄ±ÅŸarÄ±dan yÃ¶netmek daha sÃ¼rdÃ¼rÃ¼lebilir bir iÅŸlev kuracaktÄ±r bize.

Dependency Inversion principle: iki tane class olsun. a class'Ä±nÄ±n b class'Ä±na ihtiyacÄ± olursa iki class birbirinden habersiz olsun. ve bir interface veya abstract class ile baÄŸlansÄ±n. birbirinden soyutlansÄ±n sÄ±nÄ±flar. kesinlikle birbirlerini direkt olarak bilmesinler. parÃ§alar birbirini ne kadar az bilirlerseler o kadar sÃ¼rdÃ¼rÃ¼lebilir kod yazmÄ±ÅŸ oluruz. yeni featureler geldiÄŸinde daha kolay olacak.
   a class'Ä± ile b class arasÄ±nda interface ya da abstract olacak birbirinden soyutlanacaklar direkt olarak birbirlerini bilmeyecekler. parÃ§alarÄ±n birbirlerini az bilmesi o kadar sÃ¼rdÃ¼rÃ¼lebilir bÃ¼yÃ¼tÃ¼lebilir bir uygulama elde ederiz.

bu iki prensibe sadÄ±k olmak lazÄ±m. daha gÃ¼venli ve gÃ¼ncellenebilir bir sistem yazabiliriz.

baÄŸÄ±mlÄ±lÄ±klarÄ± dÄ±ÅŸarÄ±dan enjekte etme olayÄ± budur.
sÄ±kÄ± baÄŸlÄ± deÄŸil gevÅŸek uygulamar yazmamÄ±z lazÄ±m. ki daha sÃ¼rdÃ¼rÃ¼lebilir olsun kodlarÄ±mÄ±z. 
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................

Asp.Net Core (IOC/DI) Container. Asp.Net Core (IOC/DI) Container konusu anlatÄ±lmaktadÄ±r.
asp.net core framework hazÄ±r DI/IOC altyapÄ±sÄ± ile gelir. 

a ve b controllerlerinin gÃ¶revini yerine getirmek iÃ§in DAL class'Ä±na ihtiyaÃ§larÄ± olsun bunun anlamÄ± a ve b DAL'a baÄŸÄ±mlÄ±dÄ±r demektir. DAL baÄŸÄ±mlÄ±lÄ±k objesidir(Dependency object). spyutlama ile enjekte edeceÄŸiz.
DAL sÄ±nÄ±fÄ±mÄ±z olsun mesela IDAL interface ile a ve b controllerlerine enjekte edeceÄŸiz. 
uygulamanÄ±n genelini ilgilendiren DbContext gibi nesneleri new ile Ã¼retmek yerine dÄ±ÅŸardan entegre edeceÄŸiz.

Singleton-Scoped-Transient bunlar ise baÄŸÄ±mlÄ±lÄ±k objelerinin mesela dal class'Ä± gibi ne kadar olacaÄŸÄ±nÄ± belirlemek iÃ§in kullanÄ±lan yapÄ±lardÄ±r.


interface ile enjekte etmek mantÄ±klÄ±dÄ±r. DI prensibi.
iki yapÄ±yÄ± birbirinden soyutlarken interfaceyi daha fazla kullanÄ±rÄ±z. abstract yapÄ±sÄ±da kullanÄ±labilir ama interface daha fazla.

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Singleton-1. Asp.Net Core DI Conteiner ile Singleton yaÅŸam dÃ¶ngÃ¼sÃ¼ anlatÄ±lmaktadÄ±r.
Tek bir nesne Ã¼retmek iÃ§in. bir tane nesne oluÅŸturulacak ve sadece o nesne kullanÄ±lacak. uygulama ayaÄŸa kalktÄ±ÄŸÄ±nda uygulama aÃ§Ä±k kaldÄ±ÄŸÄ± sÃ¼rece hep aynÄ± nesne olacak ve tek baÅŸÄ±na olacak.

db ile ilgili iÅŸlemlerde Singleton metotlar kullanmak mantÄ±klÄ± deÄŸildir.


        private IHelper _helper;

        public ProductsController(AppDbContext context,IHelper helper)
        {
            // DI container.
            _productRepository = new ProductRepository();
            // Dependies injection pattern bir design patterndir.
            _helper = helper;
            _context = context; 

        }
// bu yapÄ± ile kullanmak lazÄ±m new kullanmadan direkt olarak bir nesne alacak constructor ve prop'u constructor iÃ§inde dolduracaÄŸÄ±z. bÃ¶ylece Products controller nesnesi Ihelperla ilgilenmeyecek dÄ±ÅŸarÄ±da bir deÄŸiÅŸim yapÄ± deÄŸiÅŸikliÄŸi olsa bile ProductsController'da bir deÄŸiÅŸim olmayacak.

// Program.cs class'Ä±na geldik ve var app'ten Ã¶nce aÅŸaÄŸÄ±daki satÄ±rÄ± ekleriz.
// ProgramÄ±n bu nesnenin yaÅŸam dÃ¶ngÃ¼sÃ¼nÃ¼ bilmesi iÃ§in. deriz ki Singleton nesne ekle ve bir class'Ä±n constructorunda Ihelper adÄ±nda bir nesne gÃ¶rÃ¼rsen eÄŸer o zaman Helper class'Ä±ndan bir nesne Ã¼ret ve getir demektir.
builder.Services.AddSingleton<IHelper,Helper>();

var app = builder.Build();
............................
namespace turkcell1.Web.Helpers
{

    public class Helper : IHelper
    {
        public string Upper(string text)
        {

            return text.ToUpper();


        }


    }


}
......................................
namespace turkcell1.Web.Helpers
{
    public interface IHelper
    {
        string Upper(string text);



    }

}

........................................
builder.Services.AddSingleton<IHelper,Helper>(); // AddSingleton dediÄŸimiz iÃ§in Singleton olarak belleÄŸe yerleÅŸecek Helper nesnesi.
// bu satÄ±r sayesinde. Ihelper parametresi olan class'lara Helper class'Ä±ndan nesne Ã¼retilip getirilecek.

private IHelper _helper;
public ProductsController(AppDbContext context,IHelper helper)

bu yapÄ±ya biz constructor injection denir.
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Singleton-2.

// ProductsController'deki bir metota enjekte ettik illa constructor ile enjekte edeceÄŸiz diye bir ÅŸey yok metot parametresi ilede enjekte edebiliriz. ama metot iÃ§erisinde [FromServices] etiketi ile belirtmemiz lazÄ±mdÄ±r.

        public IActionResult Index([FromServices]IHelper helper2)
        { // [FromServices] demek bunun DI container ile geleceÄŸini belirtir.
            // buda metot enjekte etmeye yarar.
            var status = _helper.Equals(helper2); // true gelecek yani ikiside aynÄ± nesnedir bir tane Ã¼retilir ve containter ile gelir ikiside.
            // ikiside bellekteki aynÄ± nesnedir aslÄ±nda.

            var text = "Asp.net";
            var uppertext = _helper.Upper(text);


            var products = _context.Products.ToList(); // veritabanÄ±ndaki tÃ¼m datalarÄ± almÄ±ÅŸ oluruz bÃ¶ylece.

            return View(products);

        }

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Scoped. Asp.Net Core DI Conteiner ile Scoped yaÅŸam dÃ¶ngÃ¼sÃ¼ anlatÄ±lmaktadÄ±r.
nesnelerin yaÅŸam dÃ¶ngÃ¼sÃ¼ne mÃ¼dahale edebilen metotlardÄ±r Singleton-Scoped-Transient.

Scope'de enjekte ettiÄŸimiz sÄ±nÄ±fÄ±n yaÅŸam dÃ¶ngÃ¼sÃ¼ request responseye dÃ¶nÃ¼ÅŸÃ¼nceye kadardÄ±r. mesela bir request geldi kullanÄ±cÄ± butona bastÄ±. ve service1,service2,Acontroller nesneleri Ã¼retiliyor ve bu nesneler Ihelper'Ä± implemente etmiÅŸ. Ã¶nce Ihelper bellekte var mÄ± yok bunu kontrol eder eÄŸer yoksa oluÅŸturur ve belleÄŸe koyar. ve bir daha Ihelper gÃ¶rÃ¼rse sÄ±fÄ±rdan Ã¼retmez aynÄ± Helper'Ä± gÃ¶nderir. Ama Response olduÄŸunda ise Helper nesnesi bellekten uÃ§ar. Singleton'da ise bir kere Ã¼retilir sonra tÃ¼m requestlerde aynÄ± nesne kullanÄ±lÄ±r ama bunda Response olunca request nesne uÃ§ar.
bunu servis ve veritabanÄ± gibi ÅŸeyler iÃ§in Scoped olarak kullanÄ±rÄ±z. web ve api'da daha Ã§ok scoped kullanÄ±rÄ±z.
mesela veritabanÄ± iÃ§in kullanÄ±cak DbContext gibi nesneleri Scoped olarak kullanÄ±rÄ±z.

builder.Services.AddScoped<IHelper,Helper>(); // bunu ekledik var app Ã¼zerine. Bunun anlamaÄ± Ihelper gÃ¶rdÃ¼ÄŸÃ¼ constructor parametrelerine veya metot parametrelerine Helper class'Ä±ndan nesne Ã¼retip getirecek demektir. 
request response olunca Helper'den Ã¼retilen nesne bellekten uÃ§urulacak.



        Helper _helper; 

        private readonly ILogger<HomeController> _logger;

        public HomeController(ILogger<HomeController> logger,Helper helper)
        {

            _helper = helper;
            _logger = logger;
        }
// mesela bir prensibi ihlal edip interface ile deÄŸilde nesne olarak Ã§aÄŸÄ±rdÄ±k o zaman 
builder.Services.AddScoped<Helper>(); // bunu eklememiz lazÄ±m Helper gÃ¶rdÃ¼ÄŸÃ¼ yere Helperden nesne Ã¼retip getirecek. ama bun yÃ¶ntem Ã§ok kullanÄ±lmamalÄ±dÄ±r.


builder.Services.AddScoped<Helper>(sp => new Helper()); // bu yapÄ±yÄ± kullanÄ±rsak eÄŸer o zaman Ã¼retilen nesneni constructoruna istenen bir veriyi gÃ¶nderedebiliriz. sp => new Helper("sdfbdfsb"); yapabiliriz mesela.

DbContext'in yaÅŸam dÃ¶ngÃ¼sÃ¼ default olarak scoped'dir. her request'te veritabanÄ±na gider ve bir connection string ile gider baÄŸlantÄ± aÃ§ar ve sorgularÄ± halleder.
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Transient. Asp.Net Core DI Conteiner ile Transient yaÅŸam dÃ¶ngÃ¼sÃ¼ anlatÄ±lmaktadÄ±r.

TÃ¼m bu yaÅŸam dÃ¶ngÃ¼sÃ¼ Ã¼retme iÅŸlemlerini DI container halleder.

bunda DI container ise her karÅŸÄ±laÅŸmada sÄ±fÄ±rdan bir nesne Ã¼retir ve belleÄŸe koyar.  response olunca tÃ¼m nesneler bellekten silinir.

builder.Services.AddTransient<IHelper,Helper>(); // bu metotu ekledik var app Ã¼zerinde. metot ya da constructorda parametre olarak Ihelper gÃ¶rÃ¼rse helper class'Ä±ndan bir nesne Ã¼retecek.
referancelere gÃ¶re karÅŸÄ±laÅŸtÄ±rma yapacak bellekte nesne yoksa oluÅŸturacak. her karÅŸÄ±laÅŸmada yeni nesne Ã¼retilecek IHelper ile karÅŸÄ±laÅŸmada.. response olunca request belleÄŸi sÄ±fÄ±rlayacak.

bir class iÃ§erisinde bir constructor oluÅŸturursak(parametre alan bir constructor) default olan constructor yok olur.
..................................
// Program.cs'in iÃ§erisi.
builder.Services.AddTransient<IHelper,Helper>(sp =>
{
    return new Helper(true);

});


var app = builder.Build();
....................................
namespace turkcell1.Web.Helpers
{

    public class Helper : IHelper
    {

        private bool _isConfiguration;
        public Helper(bool isConfiguration)
        {
                
            _isConfiguration = isConfiguration;

        }

        public string Upper(string text)
        {


            return text.ToUpper();

        }

    }

}
...............................................
..............................................

using turkcell1.Web.Models;

namespace turkcell1.Web.Helpers
{

    public class Helper : IHelper
    {


        private readonly AppDbContext _context;

        public Helper(AppContext context)
        {
            _context = context;

        }

        public string Upper(string text)
        {


            return text.ToUpper();


        }


    }


} // burada kullanÄ±lan AppDbContext'i parametre olarak Program.cs'de gÃ¶ndermeye gerek yok Ã§Ã¼nkÃ¼ zaten DI container bunu tanÄ±yor bundan dolayÄ± gerek yok. zaten servis olarak eklenmiÅŸ durumda.


..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
[FromService] ile metot injection yapabiliriz. ve toplam 3 tane injection tipi var.
migrationlarÄ± veritabanÄ±na yaansÄ±tmak iÃ§in update-database deriz. veritabanÄ±nÄ± gÃ¼ncelleriz.

............
Action method'larda route'dan data almak iÃ§in kullanÄ±lan doÄŸru attribute [FromRoute]'tur.

Ä°ÅŸte diÄŸer attribute'larÄ±n iÅŸlevleri:

[FromQuery]: Query string'den veri almak iÃ§in kullanÄ±lÄ±r.
[FromRoute]: Route verilerinden veri almak iÃ§in kullanÄ±lÄ±r.
[Route]: Route tanÄ±mlamak iÃ§in kullanÄ±lÄ±r.
[FromBody]: Ä°stek gÃ¶vdesinden veri almak iÃ§in kullanÄ±lÄ±r.
[FromHeader]: HTTP header'lardan veri almak iÃ§in kullanÄ±lÄ±r.
Ã–zetle, route'dan data almak iÃ§in doÄŸru attribute [FromRoute]'tur.

DbContext veritabanÄ± DbSet ise tabloyu taklit eder.
...........
DbContext ve DbSet ikilisi Entity Framework Core'da veritabanÄ± ile etkileÅŸim kurmak iÃ§in kullanÄ±lÄ±r. AÅŸaÄŸÄ±da bu terimlerin ne anlama geldiÄŸini ve karÅŸÄ±lÄ±k geldiÄŸi kavramlarÄ± bulabilirsiniz:

DbContext: VeritabanÄ± baÄŸlantÄ±sÄ±nÄ± yÃ¶neten ve veritabanÄ± iÅŸlemlerini (CRUD iÅŸlemleri gibi) gerÃ§ekleÅŸtiren ana sÄ±nÄ±ftÄ±r.
DbSet: Belirli bir veritabanÄ± tablosunu temsil eden ve bu tablo Ã¼zerinde CRUD iÅŸlemleri yapmanÄ±zÄ± saÄŸlayan bir koleksiyon sÄ±nÄ±fÄ±dÄ±r.
Bu ikili, Object-Relational Mapping (ORM) araÃ§larÄ±nda genellikle aÅŸaÄŸÄ±daki ikililere karÅŸÄ±lÄ±k gelir:

Session/Transaction - Query Object: ORM araÃ§larÄ±nda oturum (session) ve iÅŸlem (transaction) yÃ¶netimi yapan ve veritabanÄ± sorgularÄ± gerÃ§ekleÅŸtiren yapÄ±.
EntityManager - Entity: VeritabanÄ± yÃ¶netimini ve etkileÅŸimleri yÃ¶neten yapÄ± (EntityManager) ve belirli veritabanÄ± tablolarÄ±nÄ± temsil eden varlÄ±klar (Entity).
Repository - Model: Veri eriÅŸim katmanÄ±nÄ± saÄŸlayan yapÄ± (Repository) ve iÅŸlenebilir veri modelleri (Model).
Entity Framework Core baÄŸlamÄ±nda en Ã§ok benzeyen kavram Ã§ifti:

DbContext - DbSet: VeritabanÄ± baÄŸlantÄ±sÄ±nÄ± ve iÅŸlemlerini yÃ¶neten yapÄ± (DbContext) ve belirli veritabanÄ± tablolarÄ±nÄ± temsil eden koleksiyon (DbSet).
YukarÄ±daki ikililer arasÄ±nda doÄŸrudan birebir eÅŸleÅŸen kavramlar bulunmamakla birlikte, Entity Framework Core'daki DbContext ve DbSet kavramlarÄ±nÄ±n EntityManager ve Entity kavramlarÄ±na oldukÃ§a benzer olduÄŸunu sÃ¶yleyebiliriz.

Ã–zetle:

DbContext â‰ˆ EntityManager
DbSet â‰ˆ Entity
Bu ikililer, ORM sistemlerinde veritabanÄ± iÅŸlemlerini ve veritabanÄ± tablolarÄ±nÄ± temsil eder.
.................
Migration kodlarÄ±nÄ±n SQL script'ini almak iÃ§in Entity Framework Core'da Script-Migration komutunu kullanabilirsiniz. Bu komut, migration'larÄ±n oluÅŸturduÄŸu SQL komutlarÄ±nÄ± bir dosya olarak almanÄ±zÄ± saÄŸlar
.................
Action methodâ€™lara parametre olarak geÃ§ilen complex typeâ€™rÄ±n default model binding tipi Form ya da request'in bodysidir.? - kesin deÄŸil bu bilgi.
.................
AddSingleton ile nesne Ã¼retirsek hep aynÄ± nesne ile iÅŸlem olur program kapanana kadar.
....................,
Requestâ€™in Headerâ€™Ä±ndan data almak iÃ§in [FromHeader] attribute'u kullanÄ±lÄ±r.

Ã–rnek olarak, bir action method'un header'dan veri almasÄ± ÅŸu ÅŸekilde yapÄ±labilir:

public IActionResult MyAction([FromHeader] string myHeaderValue)
{
    // myHeaderValue, request header'Ä±ndan alÄ±nan deÄŸeri iÃ§erir
    return View();
}
Bu ÅŸekilde, myHeaderValue parametresi HTTP request header'Ä±ndan gelen deÄŸeri alÄ±r..
.........................................
Ef core iliÅŸkisel veritabanlarÄ± ile Ã§alÄ±ÅŸÄ±r.
............................................
ASP.NET Core'da model binding iÃ§in kullanÄ±lan Ã§eÅŸitli attribute'lar bulunmaktadÄ±r. Ä°ÅŸte yaygÄ±n olarak kullanÄ±lan model binding attribute'larÄ± ve iÅŸlevleri:

[FromQuery]: Query string'den veri almak iÃ§in kullanÄ±lÄ±r.
[FromRoute]: Route verilerinden veri almak iÃ§in kullanÄ±lÄ±r.
[FromBody]: HTTP request gÃ¶vdesinden veri almak iÃ§in kullanÄ±lÄ±r.
[FromHeader]: HTTP request header'Ä±ndan veri almak iÃ§in kullanÄ±lÄ±r.
[FromForm]: Form verilerinden veri almak iÃ§in kullanÄ±lÄ±r.
[FromServices]: Dependency Injection ile servisten veri almak iÃ§in kullanÄ±lÄ±r.
Bu attribute'lar, ASP.NET Core'da model binding iÃ§in kullanÄ±lÄ±r ve her biri belirli bir kaynaktan veri almayÄ± saÄŸlar. Toplamda 6 tane yaygÄ±n olarak kullanÄ±lan model binding attribute'u vardÄ±r.
..................................................
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
.............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
ASP MVC 301.
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Form elements: bÃ¶lÃ¼m iÃ§erikleri:
    Text
    Radio
    Checkbox
    Select
    Label
    Datetime
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Text(Form elements):  Form Elements Input-Css. Form elemanlarÄ±ndan input ve input taglarÄ±na css eklemek iÃ§in bootstrap konusu anlatÄ±lmaktadÄ±r.


        @{
            ViewData["Title"] = "Add";
        }
        @model Product

        <h1>EKLEME</h1>

        <form asp-controller="Products" asp-action="Add" method="post">


            <div class="mb-3">
                <label for="Name" class="form-label">ÃœrÃ¼n ismi:</label>
                <input class="form-control" asp-for="Name">
                
            </div>

                <div class="mb-3">
                <label for="Name" class="form-label">ÃœrÃ¼n fiyat:</label>
                <input class="form-control" asp-for="Price">
                
            </div>

            <div class="mb-3">
                <label for="Name" class="form-label">ÃœrÃ¼n Stok:</label>
                <input class="form-control" asp-for="Stock">

            </div>


            <div class="mb-3">
                <label for="Name" class="form-label">ÃœrÃ¼n Renk:</label>
                <input class="form-control" asp-for="Color">

            </div>


            <button type = "submit">ÃœrÃ¼n Kaydet</button>

        </form>

bootstrapten parÃ§alar alarak bir sistem inÅŸa ettik.

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Form Elements Input-Checkbox. Form elemanlarÄ±ndan input checkbox tipi anlatÄ±lmaktadÄ±r.


                @{
                    ViewData["Title"] = "Add";
                }
                @model Product

                <h1>EKLEME</h1>

                <form asp-controller="Products" asp-action="Add" method="post">


                    <div class="mb-3">
                        <label for="Name" class="form-label">ÃœrÃ¼n ismi:</label>
                        <input class="form-control" asp-for="Name">
                        
                    </div>

                        <div class="mb-3">
                        <label for="Name" class="form-label">ÃœrÃ¼n fiyat:</label>
                        <input class="form-control" asp-for="Price"> @*asp-for gibi tag helperlere verdiÄŸimiz verilere gÃ¶re zaten asp kendisi tipini belirliyor. eksrta olarka tip belirtmemize gerek yok ama bazen default olarak gelen tipi ezmemiz gerekebilir. o zaman type = "text" gibi ezmemiz lazÄ±m.*@
                        
                    </div>

                    <div class="mb-3">
                        <label for="Name" class="form-label">ÃœrÃ¼n Stok:</label>
                        <input type ="" class="form-control" asp-for="Stock">

                    </div>


                    <div class="mb-3">
                        <label for="Name" class="form-label">ÃœrÃ¼n Renk:</label>
                        <input class="form-control" asp-for="Color">

                    </div>


                    <div class="form-check">
                        <input class="form-check-input" asp-for="IsPublish">
                        <label class="form-check-label" for="flexCheckDefault">
                            YayÄ±nlansÄ±n mÄ±?
                        </label>
                    </div> @*asp-for ile nereye gideceÄŸine karar verdik ve bootstraptan aldÄ±ÄŸÄ±mÄ±z checksleri yerleÅŸtirdik. asp-for ile bir veri giriÅŸi belirlersek o zaten typeÄ±nÄ± otomatik belirliyor. boolean tip olduÄŸunu bilecek. 
                    *@



                    <button type="submit" class="btn btn-primary">ÃœrÃ¼n Kaydet</button> @*class="btn btn-primary" bunu bootstrap sitesinden aldÄ±k mesela ve bunu ekleyerek butona bir tip ekledik.*@

                </form>


        ..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
        Form Elements Input-Radio. Form elemanlarÄ±ndan input radio tipi anlatÄ±lmaktadÄ±r.


        @{
            ViewData["Title"] = "Add";
        }
        @model Product

        <h1>EKLEME</h1>

        <form asp-controller="Products" asp-action="Add" method="post">


            <div class="mb-3">
                <label for="Name" class="form-label">ÃœrÃ¼n ismi:</label>
                <input class="form-control" asp-for="Name">
                
            </div>

                <div class="mb-3">
                <label for="Name" class="form-label">ÃœrÃ¼n fiyat:</label>
                <input class="form-control" asp-for="Price"> @*asp-for gibi tag helperlere verdiÄŸimiz verilere gÃ¶re zaten asp kendisi tipini belirliyor. eksrta olarka tip belirtmemize gerek yok ama bazen default olarak gelen tipi ezmemiz gerekebilir. o zaman type = "text" gibi ezmemiz lazÄ±m.*@
                
            </div>

            <div class="mb-3">
                <label for="Name" class="form-label">ÃœrÃ¼n Stok:</label>
                <input type ="" class="form-control" asp-for="Stock">

            </div>


            <div class="mb-3">
                <label for="Name" class="form-label">ÃœrÃ¼n Renk:</label>
                <input class="form-control" asp-for="Color">

            </div>


            <div class="form-check">
                <input class="form-check-input" asp-for="IsPublish">
                <label class="form-check-label" for="flexCheckDefault">
                    YayÄ±nlansÄ±n mÄ±?
                </label>
            </div> @*asp-for ile nereye gideceÄŸine karar verdik ve bootstraptan aldÄ±ÄŸÄ±mÄ±z checksleri yerleÅŸtirdik. asp-for ile bir veri giriÅŸi belirlersek o zaten typeÄ±nÄ± otomatik belirliyor. boolean tip olduÄŸunu bilecek. 
            *@




            @foreach (var item in ViewBag.Expire as List<string>)
            { @*as List<string> ile tipini tam olarak belirtmemiz lazÄ±m.*@

                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="Expire" value="@item"> @*Value deÄŸerini ekledik.*@
                    <label class="form-check-label" for="flexRadioDefault1">
                    @item
                    </label>
                </div>

            }


            <button type="submit" class="btn btn-primary">ÃœrÃ¼n Kaydet</button> @*class="btn btn-primary" bunu bootstrap sitesinden aldÄ±k mesela ve bunu ekleyerek butona bir tip ekledik.*@

        </form>

................................



            @{
                ViewData["Title"] = "Add";
            }
            @model Product

            <h1>EKLEME</h1>

            <form asp-controller="Products" asp-action="Add" method="post">


                <div class="mb-3">
                    <label for="Name" class="form-label">ÃœrÃ¼n ismi:</label>
                    <input class="form-control" asp-for="Name">
                    
                </div>

                    <div class="mb-3">
                    <label for="Name" class="form-label">ÃœrÃ¼n fiyat:</label>
                    <input class="form-control" asp-for="Price"> @*asp-for gibi tag helperlere verdiÄŸimiz verilere gÃ¶re zaten asp kendisi tipini belirliyor. eksrta olarka tip belirtmemize gerek yok ama bazen default olarak gelen tipi ezmemiz gerekebilir. o zaman type = "text" gibi ezmemiz lazÄ±m.*@
                    
                </div>

                <div class="mb-3">
                    <label for="Name" class="form-label">ÃœrÃ¼n Stok:</label>
                    <input type ="" class="form-control" asp-for="Stock">

                </div>


                <div class="mb-3">
                    <label for="Name" class="form-label">ÃœrÃ¼n Renk:</label>
                    <input class="form-control" asp-for="Color">

                </div>


                <div class="form-check">
                    <input class="form-check-input" asp-for="IsPublish">
                    <label class="form-check-label" for="flexCheckDefault">
                        YayÄ±nlansÄ±n mÄ±?
                    </label>
                </div> @*asp-for ile nereye gideceÄŸine karar verdik ve bootstraptan aldÄ±ÄŸÄ±mÄ±z checksleri yerleÅŸtirdik. asp-for ile bir veri giriÅŸi belirlersek o zaten typeÄ±nÄ± otomatik belirliyor. boolean tip olduÄŸunu bilecek. 
                *@



                <div class="mb-3 mt-3"> @*mt-3 ekledik 3 tab boÅŸluk bÄ±rakÄ±r.*@
                    <span>ÃœrÃ¼n kaÃ§ ay satÄ±ÅŸta kalacak ?</span>
                @foreach (var item in ViewBag.Expire as Dictionary<string,int>)
                { 

                    <div class="form-check">
                        <input class="form-check-input" type="radio" asp-for="Expire" value="@item.Value"> @*Value deÄŸerini ekledik.*@
                        <label class="form-check-label" for="flexRadioDefault1">
                        @item.Key
                        </label>
                    </div>

                }
                </div>

                <button type="submit" class="btn btn-primary">ÃœrÃ¼n Kaydet</button> @*class="btn btn-primary" bunu bootstrap sitesinden aldÄ±k mesela ve bunu ekleyerek butona bir tip ekledik.*@

            </form>

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Form Elements Label. Form elemanlarÄ±ndan input label tipi anlatÄ±lmaktadÄ±r.

mesela illa kutucuÄŸa deÄŸilde yazÄ±ya tÄ±klayÄ±nca seÃ§ili olsun istersek...




@{
    ViewData["Title"] = "Add";
}
@model Product

<h1>EKLEME</h1>

<form asp-controller="Products" asp-action="Add" method="post">


    <div class="mb-3">
        <label asp-for="Name" class="form-label">ÃœrÃ¼n ismi:</label>
        <input class="form-control" asp-for="Name">
        
    </div>


        <div class="mb-3">
        <label asp-for="Price" class="form-label">ÃœrÃ¼n fiyat:</label>
        <input class="form-control" asp-for="Price"> @*asp-for gibi tag helperlere verdiÄŸimiz verilere gÃ¶re zaten asp kendisi tipini belirliyor. eksrta olarka tip belirtmemize gerek yok ama bazen default olarak gelen tipi ezmemiz gerekebilir. o zaman type = "text" gibi ezmemiz lazÄ±m.*@
        
    </div>

    <div class="mb-3">
        <label asp-for="Stock" class="form-label">ÃœrÃ¼n Stok:</label>
        <input type ="" class="form-control" asp-for="Stock">

    </div>


    <div class="mb-3">
        <label asp-for="Color" class="form-label">ÃœrÃ¼n Renk:</label>
        <input class="form-control" asp-for="Color">

    </div>


    <div class="form-check">
        <input class="form-check-input" asp-for="IsPublish">
        <label class="form-check-label" asp-for="IsPublish">
            YayÄ±nlansÄ±n mÄ±?
        </label>
    </div> @*asp-for ile nereye gideceÄŸine karar verdik ve bootstraptan aldÄ±ÄŸÄ±mÄ±z checksleri yerleÅŸtirdik. asp-for ile bir veri giriÅŸi belirlersek o zaten typeÄ±nÄ± otomatik belirliyor. boolean tip olduÄŸunu bilecek. 
    *@



    <div class="mb-3 mt-3"> @*mt-3 ekledik 3 tab boÅŸluk bÄ±rakÄ±r.*@
        <span>ÃœrÃ¼n kaÃ§ ay satÄ±ÅŸta kalacak ?</span>
    @foreach (var item in ViewBag.Expire as Dictionary<string,int>)
    { 

        <div class="form-check">
            <input class="form-check-input" type="radio" id ="@(item.Value)Expire" asp-for="Expire" value="@item.Value"> @*Value deÄŸerini ekledik.*@
                <label class="form-check-label" asp-for="Expire" for="@(item.Value)Expire">
               @item.Key
            </label>
        </div>

    }
    </div>

    <button type="submit" class="btn btn-primary">ÃœrÃ¼n Kaydet</button> @*class="btn btn-primary" bunu bootstrap sitesinden aldÄ±k mesela ve bunu ekleyerek butona bir tip ekledik.*@

</form>


forlarÄ± deÄŸiÅŸtirdik ve asp-for ile deÄŸiÅŸtirdik bÃ¶ylece yazÄ±ya tÄ±klasak bile seÃ§im yapabileceÄŸiz.

.............................................

@{
    ViewData["Title"] = "Index";
}
@model List<Product>
<h1>ÃœrÃ¼nler</h1>

@if(TempData["status"] != null)
{
    <div class="alert alert-primary" role="alert">
        @TempData["status"] @*TempData bir kere gÃ¶rÃ¼ntÃ¼lenecek sonra iÃ§indeki veri null olacak.*@

    </div>

}







<a asp-controller="products" asp-action="Add">ÃœrÃ¼n ekle</a>
<table class="table">

    <thead>
        <tr>
        <th>ID</th>
        <th>NAME</th>
        <th>PRICE</th>
            <th>STOCK</th>
         <th>RENK</th>
            <th>YATINLANSIN MI</th>
            <th>YAYINDA KALMA SÃœRESÄ°</th>
            <th></th>
        </tr>
    </thead>
    <tbody>

    @foreach(var item in Model){
        <tr>
            <td>@item.Id</td>
            <td>@item.Name</td>
            <td>@item.Price</td>
            <td>@item.Stock</td>
            <td>@item.Color</td>
                <td>

                    @if(@item.IsPublish){
                        <text>EVET</text>
                    }
                    else
                    {
                        <text>HAYIR</text>

                    }


                </td>

                <td>@item.Expire</td>


                <td><a asp-controller="products" asp-action="Remove" asp-route-id="@item.Id">SÄ°L</a>

                    <a asp-controller="products" asp-action="Update" asp-route-id="@item.Id">GÃœNCELLE</a>
                
       
                    


                </td>

        </tr>
    }
    </tbody>


</table>


..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Form Elements Textarea. Form elemanlarÄ±ndan input textarea tipi anlatÄ±lmaktadÄ±r.

kullanÄ±cÄ±dan birden fazla satÄ±rda veri almak istersek kullanacaÄŸÄ±mÄ±z form elemanÄ±.



@{
    ViewData["Title"] = "Add";
}
@model Product

<h1>EKLEME</h1>

<form asp-controller="Products" asp-action="Add" method="post">


    <div class="mb-3">
        <label asp-for="Name" class="form-label">ÃœrÃ¼n ismi:</label>
        <input class="form-control" asp-for="Name">
        
    </div>


        <div class="mb-3">
        <label asp-for="Price" class="form-label">ÃœrÃ¼n fiyat:</label>
        <input class="form-control" asp-for="Price"> @*asp-for gibi tag helperlere verdiÄŸimiz verilere gÃ¶re zaten asp kendisi tipini belirliyor. eksrta olarka tip belirtmemize gerek yok ama bazen default olarak gelen tipi ezmemiz gerekebilir. o zaman type = "text" gibi ezmemiz lazÄ±m.*@
        
    </div>

    <div class="mb-3">
        <label asp-for="Stock" class="form-label">ÃœrÃ¼n Stok:</label>
        <input type ="" class="form-control" asp-for="Stock">

    </div>


    <div class="mb-3">
        <label asp-for="Color" class="form-label">ÃœrÃ¼n Renk:</label>
        <input class="form-control" asp-for="Color">

    </div>


    <div class="form-check">
        <input class="form-check-input" asp-for="IsPublish">
        <label class="form-check-label" asp-for="IsPublish">
            YayÄ±nlansÄ±n mÄ±?
        </label>
    </div> @*asp-for ile nereye gideceÄŸine karar verdik ve bootstraptan aldÄ±ÄŸÄ±mÄ±z checksleri yerleÅŸtirdik. asp-for ile bir veri giriÅŸi belirlersek o zaten typeÄ±nÄ± otomatik belirliyor. boolean tip olduÄŸunu bilecek. 
    *@



    <div class="mb-3 mt-3"> @*mt-3 ekledik 3 tab boÅŸluk bÄ±rakÄ±r.*@
        <span>ÃœrÃ¼n kaÃ§ ay satÄ±ÅŸta kalacak ?</span>
    @foreach (var item in ViewBag.Expire as Dictionary<string,int>)
    { 

        <div class="form-check">
            <input class="form-check-input" type="radio" id ="@(item.Value)Expire" asp-for="Expire" value="@item.Value"> @*Value deÄŸerini ekledik.*@
                <label class="form-check-label" asp-for="Expire" for="@(item.Value)Expire">
               @item.Key
            </label>
        </div>

    }
    </div>

    <div class="form-floating mb-3">
        <textarea asp-for = "Description" class="form-control" placeholder="ÃœrÃ¼n aÃ§Ä±klama" style="height: 100px"></textarea>
        <label asp-for="Description">ÃœrÃ¼n aÃ§Ä±klama</label>
    </div>



    <button type="submit" class="btn btn-primary">ÃœrÃ¼n Kaydet</button> @*class="btn btn-primary" bunu bootstrap sitesinden aldÄ±k mesela ve bunu ekleyerek butona bir tip ekledik.*@

</form>
.................................
                <td>
                    @if(@item.Description.Length > 20){
                        @item.Description.Substring(0,20)<text>...</text>
                    }
                    else
                    {
                        @item.Description
                    }


                </td>
@*if bloÄŸu kullanabiliriz bÃ¶ylece... ve substring metotunuda kullanabiliriz...*@                
................................
@{
    ViewData["Title"] = "Index";
}
@model List<Product>
<h1>ÃœrÃ¼nler</h1>

@if(TempData["status"] != null)
{
    <div class="alert alert-primary" role="alert">
        @TempData["status"] @*TempData bir kere gÃ¶rÃ¼ntÃ¼lenecek sonra iÃ§indeki veri null olacak.*@

    </div>

}


<a asp-controller="products" asp-action="Add">ÃœrÃ¼n ekle</a>
<table class="table">

    <thead>
        <tr>
        <th>ID</th>
        <th>NAME</th>
        <th>PRICE</th>
            <th>STOCK</th>
         <th>RENK</th>
            <th>YATINLANSIN MI</th>
            <th>YAYINDA KALMA SÃœRESÄ°(AY)</th>
            <th>AÃ‡IKLAMA</th>
            <th></th>
        </tr>
    </thead>
    <tbody>

    @foreach(var item in Model){
        <tr>
            <td>@item.Id</td>
            <td>@item.Name</td>
            <td>@item.Price</td>
            <td>@item.Stock</td>
            <td>@item.Color</td>
                <td>

                    @if(@item.IsPublish){
                        <text>EVET</text>
                    }
                    else
                    {
                        <text>HAYIR</text>

                    }


                </td>

                <td>@item.Expire</td>
                <td>
                    @if(@item.Description.Length > 20){
                        @item.Description.Substring(0,20)<text>...</text>
                    }
                    else
                    {
                        @item.Description
                    }


                </td>


                <td><a asp-controller="products" asp-action="Remove" asp-route-id="@item.Id">SÄ°L</a>

                    <a asp-controller="products" asp-action="Update" asp-route-id="@item.Id">GÃœNCELLE</a>
                
       
                    


                </td>

        </tr>
    }
    </tbody>


</table>

.........................................................................
Form Elements Select-1. Form elemanlarÄ±ndan input select tipi anlatÄ±lmaktadÄ±r.

select yani comboBoxtan seÃ§im yapmamÄ±zÄ± saÄŸlayacak.

     // aslÄ±nda metotun Ã¼stende default olarak bir [HttpGet] var
     [HttpGet]
     public IActionResult Add()
     {

         Dictionary<string, int> Expire = new Dictionary<string, int>()
         {
             { "1 Ay",1},
             { "3 Ay",3},
             { "6 Ay",6},
             { "12 Ay",12}

         };
         ViewBag.Expire = Expire;




        ViewBag.ColorsSelect = new SelectList(new List<ColorSelectList>()
        {
            new () {Data = "Mavi",Value = "Mavi" },
            new () {Data = "KÄ±rmÄ±zÄ±",Value = "KÄ±rmÄ±zÄ±" },
            new () {Data = "SarÄ±",Value = "SarÄ±" }

        },"Value","Data"); // bu sistemi ekledik.



         return View();
     }

........................................... html tarafta gÃ¶sterme.


@{
    ViewData["Title"] = "Add";
}
@model Product

<h1>EKLEME</h1>

<form asp-controller="Products" asp-action="Add" method="post">


    <div class="mb-3">
        <label asp-for="Name" class="form-label">ÃœrÃ¼n ismi:</label>
        <input class="form-control" asp-for="Name">
        
    </div>


        <div class="mb-3">
        <label asp-for="Price" class="form-label">ÃœrÃ¼n fiyat:</label>
        <input class="form-control" asp-for="Price"> @*asp-for gibi tag helperlere verdiÄŸimiz verilere gÃ¶re zaten asp kendisi tipini belirliyor. eksrta olarka tip belirtmemize gerek yok ama bazen default olarak gelen tipi ezmemiz gerekebilir. o zaman type = "text" gibi ezmemiz lazÄ±m.*@
        
    </div>


    <div class="mb-3">
        <label asp-for="Stock" class="form-label">ÃœrÃ¼n Stok:</label>
        <input type ="" class="form-control" asp-for="Stock">

    </div>


    <div class="mb-3">
     
        @*<label asp-for="Color" class="form-label">ÃœrÃ¼n Renk:</label>
        <input class="form-control" asp-for="Color">
        *@

        <select class="form-select" asp-for="Color" asp-items="@ViewBag.ColorSelect">

            <option value="">Renk seÃ§iniz</option>

        </select>
        

    </div>


    <div class="form-check">
        <input class="form-check-input" asp-for="IsPublish">
        <label class="form-check-label" asp-for="IsPublish">
            YayÄ±nlansÄ±n mÄ±?
        </label>
    </div> @*asp-for ile nereye gideceÄŸine karar verdik ve bootstraptan aldÄ±ÄŸÄ±mÄ±z checksleri yerleÅŸtirdik. asp-for ile bir veri giriÅŸi belirlersek o zaten typeÄ±nÄ± otomatik belirliyor. boolean tip olduÄŸunu bilecek. 
    *@



    <div class="mb-3 mt-3"> @*mt-3 ekledik 3 tab boÅŸluk bÄ±rakÄ±r.*@
        <span>ÃœrÃ¼n kaÃ§ ay satÄ±ÅŸta kalacak ?</span>
    @foreach (var item in ViewBag.Expire as Dictionary<string,int>)
    { 

        <div class="form-check">
            <input class="form-check-input" type="radio" id ="@(item.Value)Expire" asp-for="Expire" value="@item.Value"> @*Value deÄŸerini ekledik.*@
                <label class="form-check-label" asp-for="Expire" for="@(item.Value)Expire">
               @item.Key
            </label>
        </div>

    }
    </div>

    <div class="form-floating mb-3">
        <textarea asp-for = "Description" class="form-control" placeholder="ÃœrÃ¼n aÃ§Ä±klama" style="height: 100px"></textarea>
        <label asp-for="Description">ÃœrÃ¼n aÃ§Ä±klama</label>
    </div>



    <button type="submit" class="btn btn-primary">ÃœrÃ¼n Kaydet</button> @*class="btn btn-primary" bunu bootstrap sitesinden aldÄ±k mesela ve bunu ekleyerek butona bir tip ekledik.*@

</form>

..........................

  <div class="mb-3">
     
        @*<label asp-for="Color" class="form-label">ÃœrÃ¼n Renk:</label>
        <input class="form-control" asp-for="Color">
        *@

        <select class="form-select" asp-for="Color" asp-items="@ViewBag.ColorSelect">

            <option value="">Renk seÃ§iniz</option>

        </select>
        

    </div>

@*bunula yaptÄ±k aslÄ±nda comboBox eklemeyi.*@

.......................................................
Form Elements Datetime. Form elemanlarÄ±ndan input datetime tipi anlatÄ±lmaktadÄ±r.

Date ile sadece tarihte tutabilirdik.

    <div class="mb-3">
        <label asp-for="PublishDate" class="form-label">ÃœrÃ¼n YayÄ±nlanma zamanÄ±:</label>
        <input class="form-control" asp-for="PublishDate">
    </div>


..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................

Form Elements Update.cshtml. ÃœrÃ¼n gÃ¼ncelleme sayfsÄ±nÄ±n yeni form elemanlarÄ±na gÃ¶re tekrar kodlanmasÄ± anlatÄ±lmaktadÄ±r.



        [HttpGet]
        public IActionResult Update(int id)
        {

            var product = _context.Products.Find(id);
            ViewBag.ExpireValue = product.Expire;
            Dictionary<string, int> Expire = new Dictionary<string, int>()
            {
                { "1 Ay",1},
                { "3 Ay",3},
                { "6 Ay",6},
                { "12 Ay",12}

            };
            ViewBag.Expire = Expire;




            ViewBag.ColorsSelect = new SelectList(new List<ColorSelectList>()
           {
               new () {Data = "Mavi",Value = "Mavi" },
               new () {Data = "KÄ±rmÄ±zÄ±",Value = "KÄ±rmÄ±zÄ±" },
               new () {Data = "SarÄ±",Value = "SarÄ±" }

           }, "Value", "Data",product.Color); // seÃ§ili olanÄ± getirecek.





            return View(product); // bu sayfaya gittiÄŸi zaman sayfadaki @model Product nesneyi alacak ve textleri dolduracak.. 

        }
......................................................Update sayfasÄ±.



@{
    ViewData["Title"] = "Update";
}

@model Product

<h1>ÃœrÃ¼n GÃ¼ncelleme</h1>

<form asp-controller="Products" asp-action="Add" method="post">


    <div class="mb-3">
        <label asp-for="Name" class="form-label">ÃœrÃ¼n ismi:</label>
        <input class="form-control" asp-for="Name">

    </div>


    <div class="mb-3">
        <label asp-for="Price" class="form-label">ÃœrÃ¼n fiyat:</label>
        <input class="form-control" asp-for="Price"> 

    </div>


    <div class="mb-3">
        <label asp-for="Stock" class="form-label">ÃœrÃ¼n Stok:</label>
        <input type="" class="form-control" asp-for="Stock">

    </div>


    <div class="mb-3">

        <select class="form-select" asp-for="Color" asp-items="@ViewBag.ColorSelect">

            <option value="">Renk seÃ§iniz</option>

        </select>

    </div>


    <div class="form-check">
        <input class="form-check-input" asp-for="IsPublish">
        <label class="form-check-label" asp-for="IsPublish">
            YayÄ±nlansÄ±n mÄ±?
        </label>
    </div> 



    <div class="mb-3 mt-3">
        
        <span>ÃœrÃ¼n kaÃ§ ay satÄ±ÅŸta kalacak ?</span>
        @foreach (var item in ViewBag.Expire as Dictionary<string, int>)
        {
            <div class="form-check">


            @if (item.Value == ViewBag.ExpireValue)
            {
                    <input checked = "checked" class="form-check-input" type="radio" id="@(item.Value)Expire" asp-for="Expire" value="@item.Value">
                }
                else
                {
                    <input class="form-check-input" type="radio" id="@(item.Value)Expire" asp-for="Expire" value="@item.Value">
                }

                <label class="form-check-label" asp-for="Expire" for="@(item.Value)Expire">
                    @item.Key
                </label>

            </div>


                
                

        }
    </div>

    <div class="form-floating mb-3">
        <textarea asp-for="Description" class="form-control" placeholder="ÃœrÃ¼n aÃ§Ä±klama" style="height: 100px"></textarea>
        <label asp-for="Description">ÃœrÃ¼n aÃ§Ä±klama</label>
    </div>



    <div class="mb-3">
        <label asp-for="PublishDate" class="form-label">ÃœrÃ¼n YayÄ±nlanma zamanÄ±:</label>
        <input class="form-control" asp-for="PublishDate">

    </div>


    <button type="submit" class="btn btn-primary">ÃœrÃ¼n Kaydet</button> 

</form>

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
BÃ¶lÃ¼m iÃ§erik :
        Server side validation
        Required
        Range
        StringLength
        EmaiIAddress
        Remote
        ReqularExpression
        Client side validation (arayÃ¼zde denetim yapacak bÃ¶ylece veritabanÄ±nÄ± yormayacak).
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
ViewModel. View sayfalarÄ±nda kullanÄ±lacak ViewModel yapÄ±sÄ± anlatÄ±lmaktadÄ±r.

ViewModel Viewler iÃ§in Model oluÅŸturmadÄ±r. entityler yerine entitylere karÅŸÄ±lÄ±k gelecek viewmodel yapacaÄŸÄ±z ve entityleri kirletmeyeceÄŸiz. ve entity'nin iÃ§ini aÃ§mak istemeyebiliriz ve viewmodelde onu sileriz kimsenin gÃ¶rmesini istemediÄŸimiz bir yapÄ± olabilir.
tam olarak cshtml'in ihtiyacÄ± olan verileri dÃ¶nebiliriz boÅŸu boÅŸuna kullanÄ±lmayacak datalarÄ± taÅŸÄ±ma iÅŸlemi yapmayÄ±z.

 hep ViewModel'lerle Ã§alÄ±ÅŸacaÄŸÄ±z genel olarak.

ProductViewModel adÄ±nda bir klasÃ¶r oluÅŸturduk. sonra ProductViewModel adÄ±nda bir class oluÅŸturduk. sonra gÃ¶stermek istediÄŸimiz propertyleri alÄ±p Product class'Ä±ndan bu class'a ekledik.
            namespace turkcell1.Web.ProductViewModel
            {

                public class ProductViewModel
                {

                    public int Id { get; set; }
                    public string Name { get; set; }

                    public decimal Price { get; set; }

                    public int Stock { get; set; }

                    public string Description { get; set; }
                    public string? Color
                    {
                        get;
                        set;
                    }

                    public DateTime? PublishDate { get; set; } // null olabilir seÃ§eneÄŸi veririz ? ile var olan veriler iÃ§inde null verecek.

                    public bool IsPublish { get; set; }

                    public int Expire { get; set; }


                }
            }

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Automapper ile entityleri otomatik olarak ViewModel'lere Ã§eviren bir kÃ¼tÃ¼phane kullanacaÄŸÄ±z. Entity ile ViewModel sÄ±nÄ±flarÄ±nÄ± otomatik map'leme iÅŸlevini gerÃ§ekleÅŸtirecek automapper kÃ¼tÃ¼phanesinin kullanÄ±lmasÄ± anlatÄ±lmaktadÄ±r.
bizim entityleri viewmodellere otomatik olarak mapleyecek. bir bir entity listesi verdiÄŸimde bir viewmodel listesi verecek bize.
entityde proplarÄ± viewmodel'e aktarÄ±r. new ile oluÅŸturmamÄ±za gerek yok automapper otomatik olarak yapar.

kurulum: dependies saÄŸ tÄ±k. manage nuget packagesi seÃ§iyoruz. oradan automapperi aratÄ±p yÃ¼klÃ¼yoruz. AutoMapper.Extensions.Microsoft.DependencyInjection bunu indirdik. asp net core iÃ§in.
sonra Program.cs'e 
builder.Services.AddAutoMapper(Assembly.GetExecutingAssembly());  bunu ekledik.
sonra projemize mapping adÄ±nda klasÃ¶r ekledik. sonra ViewModelMapping.cs adÄ±nda bir class ekledik bu klasÃ¶re ve class :Profile ile Profile'den kalÄ±tÄ±m aldÄ±.




using AutoMapper;
using turkcell1.Web.Models;
using turkcell1.Web.ViewModels;

namespace turkcell1.Web.Mapping
{
    public class ViewModelMapping:Profile
    {
        public ViewModelMapping()
        {
            CreateMap<Product, ProductViewModel>().ReverseMap(); // ReverseMap ile ters maplemede yapabiliriz.
             



        }
    }
}


..........................
// Products controllerde         private readonly IMapper _mapper; bunu ekledik sonra constructor iÃ§eriisne ekleme yaptÄ±k.

        private readonly IMapper _mapper;

        public ProductsController(AppDbContext context, IHelper helper, IMapper mapper)
        {
            // DI container.
            _productRepository = new ProductRepository();
            // Dependies injection pattern bir design patterndir.
            _context = context;
            _mapper = mapper;
        }

............................. sonra prodcutcontrollerdeki index IActionResult'undaki return View(_products) 'Ä± deÄŸiÅŸtirdik.;

        public IActionResult Index()
        { 

            var products = _context.Products.ToList(); // veritabanÄ±ndaki tÃ¼m datalarÄ± almÄ±ÅŸ oluruz bÃ¶ylece.

            return View(_mapper.Map<List<ProductViewModel>>(products));


        }

....................................

ASP.NET'te bir mapper kullanmak, nesneler arasÄ±nda veri dÃ¶nÃ¼ÅŸÃ¼mÃ¼nÃ¼ kolaylaÅŸtÄ±ran bir araÃ§ veya kÃ¼tÃ¼phane anlamÄ±na gelir. Ã–zellikle, veritabanÄ± varlÄ±klarÄ± (entities) ve veri transfer nesneleri (DTO'lar) gibi farklÄ± veri yapÄ±larÄ± arasÄ±nda veri taÅŸÄ±mak iÃ§in kullanÄ±lÄ±r. Mapper kullanmanÄ±n bazÄ± ana nedenleri ÅŸunlardÄ±r:

1. Kod TekrarÄ±nÄ± Azaltmak
Nesneler arasÄ±nda veri taÅŸÄ±mak, genellikle Ã§ok sayÄ±da benzer kod satÄ±rÄ± gerektirir. Mapper kullanmak, bu dÃ¶nÃ¼ÅŸÃ¼m iÅŸlemlerini otomatikleÅŸtirerek kod tekrarÄ±nÄ± azaltÄ±r.

2. Kod BakÄ±mÄ±nÄ± KolaylaÅŸtÄ±rmak
Mapper kullanmak, veri dÃ¶nÃ¼ÅŸÃ¼m mantÄ±ÄŸÄ±nÄ± merkezi bir yerde tutar. Bu, veri dÃ¶nÃ¼ÅŸÃ¼m kurallarÄ±nÄ± deÄŸiÅŸtirmek gerektiÄŸinde kodun diÄŸer kÄ±sÄ±mlarÄ±nÄ± gÃ¼ncelleme ihtiyacÄ±nÄ± azaltÄ±r.

3. Performans Ä°yileÅŸtirmesi
Otomatik dÃ¶nÃ¼ÅŸÃ¼mler manuel dÃ¶nÃ¼ÅŸÃ¼mlere gÃ¶re daha hÄ±zlÄ± olabilir. AyrÄ±ca, iyi optimize edilmiÅŸ bir mapper kÃ¼tÃ¼phanesi, performans sorunlarÄ±nÄ± minimumda tutabilir.

4. Kodun AnlaÅŸÄ±labilirliÄŸini ArtÄ±rmak
Mapper kullanmak, veri dÃ¶nÃ¼ÅŸÃ¼m mantÄ±ÄŸÄ±nÄ± netleÅŸtirir ve kodun genel yapÄ±sÄ±nÄ± daha anlaÅŸÄ±labilir hale getirir. Bu, Ã¶zellikle bÃ¼yÃ¼k projelerde ve ekip Ã§alÄ±ÅŸmalarÄ±nda Ã¶nemlidir.

5. Model-View-Controller (MVC) YapÄ±sÄ±nÄ± Desteklemek
ASP.NET Core gibi MVC tabanlÄ± frameworklerde, veritabanÄ± modelleri ve gÃ¶rÃ¼nÃ¼m modelleri arasÄ±nda veri taÅŸÄ±mak yaygÄ±ndÄ±r. Mapper kullanmak, bu veri taÅŸÄ±mayÄ± standartlaÅŸtÄ±rÄ±r ve kolaylaÅŸtÄ±rÄ±r.

PopÃ¼ler Mapper KÃ¼tÃ¼phaneleri
AutoMapper
ASP.NET projelerinde en yaygÄ±n kullanÄ±lan mapper kÃ¼tÃ¼phanelerinden biri AutoMapper'dir. AutoMapper, nesneler arasÄ±nda veri taÅŸÄ±mayÄ± kolaylaÅŸtÄ±ran ve konfigurasyonunu kolayca yapabileceÄŸiniz bir kÃ¼tÃ¼phanedir.

AutoMapper KullanÄ±mÄ±na Bir Ã–rnek
AdÄ±m 1: AutoMapper'i Kurun
AutoMapper'i NuGet Ã¼zerinden projenize ekleyin:


Install-Package AutoMapper
AdÄ±m 2: Mapper KonfigÃ¼rasyonunu YapÄ±n
Ã–rnek olarak, User ve UserDto sÄ±nÄ±flarÄ±nÄ± kullanarak AutoMapper konfigÃ¼rasyonunu gÃ¶sterelim:


using AutoMapper;

// Modeller
public class User
{
    public int Id { get; set; }
    public string FirstName { get; set; }
    public string LastName { get; set; }
}

public class UserDto
{
    public int Id { get; set; }
    public string FullName { get; set; }
}

// AutoMapper Profili
public class UserProfile : Profile
{
    public UserProfile()
    {
        CreateMap<User, UserDto>()
            .ForMember(dest => dest.FullName, opt => opt.MapFrom(src => $"{src.FirstName} {src.LastName}"));
    }
}

AdÄ±m 3: AutoMapper'i BaÅŸlatÄ±n
ASP.NET Core uygulamanÄ±zÄ±n Startup dosyasÄ±nda AutoMapper'i baÅŸlatÄ±n:


public void ConfigureServices(IServiceCollection services)
{
    services.AddAutoMapper(typeof(Startup));
}

AdÄ±m 4: Mapper KullanÄ±mÄ±
Bir kontrolÃ¶rde veya hizmette (service) AutoMapper'i kullanarak veri dÃ¶nÃ¼ÅŸÃ¼mÃ¼ gerÃ§ekleÅŸtirin:

public class UserService
{
    private readonly IMapper _mapper;

    public UserService(IMapper mapper)
    {
        _mapper = mapper;
    }

    public UserDto GetUserDto(User user)
    {
        return _mapper.Map<UserDto>(user);
    }
}
SonuÃ§
Mapper kullanmak, ASP.NET projelerinde veri dÃ¶nÃ¼ÅŸÃ¼mlerini daha temiz, bakÄ±mÄ± daha kolay ve performans aÃ§Ä±sÄ±ndan daha verimli hale getirir. AutoMapper gibi kÃ¼tÃ¼phaneler, bu dÃ¶nÃ¼ÅŸÃ¼mleri basitleÅŸtirir ve standartlaÅŸtÄ±rÄ±r, bÃ¶ylece geliÅŸtiricilerin daha az hata yapmasÄ±nÄ± ve kodlarÄ±nÄ±n daha okunabilir olmasÄ±nÄ± saÄŸlar.


..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Model/Form Validation Required. Form Validation iÅŸlemlerinde kullanÄ±lacak Required attribute konusu anlatÄ±lmaktadÄ±r.
Validation kullanÄ±cÄ±dan aldÄ±ÄŸÄ±mÄ±z bilgileri kontrol etmemizi saÄŸlar. asp.net ile otomatik olarak gelir validation Ã¶zelliÄŸi.
validationlarÄ± attributesler olarak kullanÄ±rÄ±z. model veya form validation denir. kullanÄ±cÄ±dan alÄ±nan datayÄ± valide edebiliriz yani kontrol edebiliriz.
validationÄ±n hem client hem server kÄ±smÄ± var.
server olanda Ã¶nce veriler servera gelir sonra kontrol edilir. clientta ise servera gelmeden arayÃ¼zde kontrol edilir.
.....................
required alan bir verinin girilme zorunluluÄŸu olduÄŸu alandÄ±r.

using System.ComponentModel.DataAnnotations;

namespace turkcell1.Web.ViewModels
{
    public class ProductViewModel
    {

        public int Id { get; set; }

        [Required] // doldurulmasÄ± zorunlu alan olarak belirleriz.

        public string Name { get; set; }

        public decimal Price { get; set; }

        public int Stock { get; set; }

        public string Description { get; set; }
        public string? Color
        {
            get;
            set;
        }

        public DateTime? PublishDate { get; set; } // null olabilir seÃ§eneÄŸi veririz ? ile var olan veriler iÃ§inde null verecek.

        public bool IsPublish { get; set; }

        public int Expire { get; set; }


    }
}

............................

@{
    ViewData["Title"] = "Add";
}
@model ProductViewModel

<h1>EKLEME</h1>

<form asp-controller="Products" asp-action="Add" method="post">


    <div class="mb-3">
        <label asp-for="Name" class="form-label">ÃœrÃ¼n ismi:</label>
        <input class="form-control" asp-for="Name">
        <span class = "text-danger" asp-validation-for="Name"></span>
        @*Name ile ilgili bir validation problem olduÄŸunda burada hata olduÄŸunu belirten bir yapÄ± olacak.*@
       @* class = "text-danger" ile uyarÄ± mesajÄ± gÃ¶zÃ¼kecek.*@
    </div>

...............................Products controllerdeki metot.


        [HttpPost] 
        public IActionResult Add(ProductViewModel newProduct) {


            if (ModelState.IsValid) // eÄŸer validationdan geÃ§miÅŸ bir deÄŸer ise o zaman kaydet sistemi kurabiliriz.
            {
                _context.Products.Add(_mapper.Map<Product>(newProduct));

                _context.SaveChanges();


                TempData["status"] = "ÃœrÃ¼n baÅŸarÄ± ile eklendi.";


                return RedirectToAction("Index");
            }
            else
            {
                            Dictionary<string, int> Expire = new Dictionary<string, int>()
            {
                { "1 Ay",1},
                { "3 Ay",3},
                { "6 Ay",6},
                { "12 Ay",12}

            };
            ViewBag.Expire = Expire;




           ViewBag.ColorsSelect = new SelectList(new List<ColorSelectList>()
           {
               new () {Data = "Mavi",Value = "Mavi" },
               new () {Data = "KÄ±rmÄ±zÄ±",Value = "KÄ±rmÄ±zÄ±" },
               new () {Data = "SarÄ±",Value = "SarÄ±" }

           },"Value","Data");

                return View();
            }



        }

........................................

        [Required(ErrorMessage ="Ä°sim alanÄ± boÅŸ olamaz.")] // doldurulmasÄ± zorunlu alan olarak belirleriz.

        public string Name { get; set; }

// bÃ¶yle yaparsak eÄŸer o zaman istediÄŸimiz error messageyi kullanabiliriz.
// Ã–NEMLÄ°... [Required] kullanacaksak eÄŸer bir properity ve o properity value type ise int,decimal gibi o zaman nullable yapmamÄ±z lazÄ±m. mesela boolean default tipi False'dir o yÃ¼zden bunlarÄ± boolean? ile nullable yapmamÄ±z lazÄ±m. ama string iÃ§in vs gerekli deÄŸil.

using System.ComponentModel.DataAnnotations;

namespace turkcell1.Web.ViewModels
{
    public class ProductViewModel
    {

        public int Id { get; set; }

        [Required(ErrorMessage ="Ä°sim alanÄ± boÅŸ olamaz.")] // doldurulmasÄ± zorunlu alan olarak belirleriz.

        public string Name { get; set; }

        [Required(ErrorMessage = "Fiyat alanÄ± boÅŸ olamaz.")] // doldurulmasÄ± zorunlu alan olarak belirleriz.
        public decimal? Price { get; set; }

        [Required(ErrorMessage = "Stok alana boÅŸ olamaz.")] // doldurulmasÄ± zorunlu alan olarak belirleriz.
        public int? Stock { get; set; }
        [Required(ErrorMessage = "AÃ§Ä±klama boÅŸ olamaz.")] // doldurulmasÄ± zorunlu alan olarak belirleriz.
        public string Description { get; set; }

        public string? Color
        {
            get;
            set;
        }


        public DateTime? PublishDate { get; set; } // null olabilir seÃ§eneÄŸi veririz ? ile var olan veriler iÃ§inde null verecek.

        public bool IsPublish { get; set; }

        public int Expire { get; set; }


    }
}

.............................Sonra Products Add.cshtml'de span taglarÄ±nÄ± ekledik uyarÄ±n gÃ¶zÃ¼kmesini istediÄŸimiz yerlerde.


@{
    ViewData["Title"] = "Add";
}
@model ProductViewModel

<h1>EKLEME</h1>

<form asp-controller="Products" asp-action="Add" method="post">


    <div class="mb-3">
        <label asp-for="Name" class="form-label">ÃœrÃ¼n ismi:</label>
        <input class="form-control" asp-for="Name">
        <span class = "text-danger" asp-validation-for="Name"></span>
    </div>



        <div class="mb-3">
        <label asp-for="Price" class="form-label">ÃœrÃ¼n fiyat:</label>
        <input class="form-control" asp-for="Price"> @*asp-for gibi tag helperlere verdiÄŸimiz verilere gÃ¶re zaten asp kendisi tipini belirliyor. eksrta olarka tip belirtmemize gerek yok ama bazen default olarak gelen tipi ezmemiz gerekebilir. o zaman type = "text" gibi ezmemiz lazÄ±m.*@
        <span class="text-danger" asp-validation-for="Price"></span>
    </div>


    <div class="mb-3">
        <label asp-for="Stock" class="form-label">ÃœrÃ¼n Stok:</label>
        <input type ="" class="form-control" asp-for="Stock">
        <span class="text-danger" asp-validation-for="Stock"></span>
    </div>


    <div class="mb-3">
     
        @*<label asp-for="Color" class="form-label">ÃœrÃ¼n Renk:</label>
        <input class="form-control" asp-for="Color">
        *@

        <select class="form-select" asp-for="Color" asp-items="@ViewBag.ColorSelect">

            <option value="">Renk seÃ§iniz</option>

        </select>
        

    </div>


    <div class="form-check">
        <input class="form-check-input" asp-for="IsPublish">
        <label class="form-check-label" asp-for="IsPublish">
            YayÄ±nlansÄ±n mÄ±?
        </label>
    </div> @*asp-for ile nereye gideceÄŸine karar verdik ve bootstraptan aldÄ±ÄŸÄ±mÄ±z checksleri yerleÅŸtirdik. asp-for ile bir veri giriÅŸi belirlersek o zaten typeÄ±nÄ± otomatik belirliyor. boolean tip olduÄŸunu bilecek. 
    *@



    <div class="mb-3 mt-3"> @*mt-3 ekledik 3 tab boÅŸluk bÄ±rakÄ±r.*@
        <span>ÃœrÃ¼n kaÃ§ ay satÄ±ÅŸta kalacak ?</span>
    @foreach (var item in ViewBag.Expire as Dictionary<string,int>)
    { 

        <div class="form-check">
            <input class="form-check-input" type="radio" id ="@(item.Value)Expire" asp-for="Expire" value="@item.Value"> @*Value deÄŸerini ekledik.*@
                <label class="form-check-label" asp-for="Expire" for="@(item.Value)Expire">
               @item.Key
            </label>
        </div>

    }
    </div>

    <div class="form-floating mb-3">
        <textarea asp-for = "Description" class="form-control" placeholder="ÃœrÃ¼n aÃ§Ä±klama" style="height: 100px"></textarea>
        <label asp-for="Description">ÃœrÃ¼n aÃ§Ä±klama</label>
        <span class="text-danger" asp-validation-for="Description"></span>
    </div>



    <div class="mb-3">
        <label asp-for="PublishDate" class="form-label">ÃœrÃ¼n YayÄ±nlanma zamanÄ±:</label>
        <input class="form-control" asp-for="PublishDate">

    </div>


    <button type="submit" class="btn btn-primary">ÃœrÃ¼n Kaydet</button> @*class="btn btn-primary" bunu bootstrap sitesinden aldÄ±k mesela ve bunu ekleyerek butona bir tip ekledik.*@

</form>

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Model/Form Validation Range. Form Validation iÅŸlemlerinde kullanÄ±lacak Range attribute konusu anlatÄ±lmaktadÄ±r.
Range attributesi bir sayÄ±sal deÄŸerin belli bir deÄŸer aralÄ±ÄŸÄ±nda olup olmadÄ±ÄŸÄ±nÄ± belirleyebiliriz...


        [Required(ErrorMessage = "Stok alana boÅŸ olamaz.")] // doldurulmasÄ± zorunlu alan olarak belirleriz.
        [Range(1,200,ErrorMessage = "Stok belli alanda olmalÄ±..")] // belli bir aralÄ±kta olmasÄ±nÄ± saÄŸlarÄ±z baÅŸlangÄ±Ã§ ve bitiÅŸ. ve bu ÅŸartlar saÄŸlnazmasa o zaman gelecek hata mesajÄ±nÄ± belirleriz.
        public int? Stock { get; set; }
        // ProductViewModel class'Ä± iÃ§erisi...

    <div class="mb-3">
        <label asp-for="Stock" class="form-label">ÃœrÃ¼n Stok:</label>
        <input type ="number" class="form-control" asp-for="Stock">
        <span class="text-danger" asp-validation-for="Stock"></span>
    </div>
    @*add.cshtml iÃ§erisi type = "number olarak belirledik."*@

........


        [Required(ErrorMessage = "Fiyat alanÄ± boÅŸ olamaz.")] // doldurulmasÄ± zorunlu alan olarak belirleriz.
        [Range(1,1000,ErrorMessage = "Fiyat alanÄ± belli aralÄ±kta olmalÄ±.")]
        public decimal? Price { get; set; }
 

        <div class="mb-3">
        <label asp-for="Price" class="form-label">ÃœrÃ¼n fiyat:</label>
        <input class="form-control" asp-for="Price">
        <span class="text-danger" asp-validation-for="Price"></span>
    </div>
    @*decimal olduÄŸu iÃ§in biz bunu type = "number" yapamayÄ±z yoksa ondalÄ±klÄ± sayÄ± giremeyiz.*@


..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Model/Form Validation StringLength. Form Validation iÅŸlemlerinde kullanÄ±lacak StringLength attribute konusu anlatÄ±lmaktadÄ±r.
bir yazÄ±nÄ±n uzunluÄŸu iÃ§in kullanÄ±rÄ±z...


        [Required(ErrorMessage ="Ä°sim alanÄ± boÅŸ olamaz.")] // doldurulmasÄ± zorunlu alan olarak belirleriz.
        [StringLength(50,ErrorMessage ="Ä°sim alanÄ± en fazla 50 karakter olur...")]
        public string Name { get; set; }

...min uzunluk iÃ§in ise 

        [Required(ErrorMessage ="Ä°sim alanÄ± boÅŸ olamaz.")] // doldurulmasÄ± zorunlu alan olarak belirleriz.
        [StringLength(50,MinimumLength =1,ErrorMessage ="Ä°sim alanÄ± en fazla 50 karakter olur...")]
        public string Name { get; set; }

    <div class="mb-3">
        <label asp-for="Name" class="form-label">ÃœrÃ¼n ismi:</label>
        <input class="form-control" asp-for="Name">
        <span class = "text-danger" asp-validation-for="Name"></span>
    </div>
    @*aynen kullandÄ±k. bir deÄŸiÅŸim yapmadÄ±k.*@ 

...............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Model/Form Validation EmailAddress. Form Validation iÅŸlemlerinde kullanÄ±lacak EmailAddress attribute konusu anlatÄ±lmaktadÄ±r.
email adresi iÃ§in gerekli kÄ±sÄ±tlamalarÄ± gÃ¶receÄŸiz... email doÄŸrulama iÃ§in kullanÄ±rÄ±z.

        [EmailAddress(ErrorMessage ="Email geÃ§ersiz.")]
        public string EmailAdress { get; set; }
        //ProductViewModel...

   <div class="mb-3">
       <label asp-for="EmailAdress" class="form-label">Email adresi:</label>
       <input type = "text" class="form-control" asp-for="EmailAdress">
       <span class="text-danger" asp-validation-for="EmailAdress"></span>
   </div>
   @*Products-Add.cshtml*@

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Model/Form Validation ReqularExpression. Form Validation iÅŸlemlerinde kullanÄ±lacak ReqularExpression attribute konusu anlatÄ±lmaktadÄ±r.
ReqularExpression herhangi bir deÄŸeri karÅŸÄ±laÅŸtÄ±rmamÄ±zÄ± saÄŸlar.

hello ---	contains {hello}
gray|grey ---	contains {gray, grey}
gr(a|e)y ---	contains {gray, grey}
gr[ae]y ---	contains {gray, grey}
b[aeiou]bble ---	contains {babble, bebble, bibble, bobble, bubble}
[b-chm-pP]at|ot ---	contains {bat, cat, hat, mat, nat, oat, pat, Pat, ot}
colou?r	contains --- {color, colour}
rege(x(es)?|xps?) ---	contains {regex, regexes, regexp, regexps}
go*gle ---	contains {ggle, gogle, google, gooogle, goooogle, ...}
go+gle --- contains {gogle, google, gooogle, goooogle, ...}
g(oog)+le ---	contains {google, googoogle, googoogoogle, googoogoogoogle, ...}
z{3} ---	contains {zzz}
z{3,6} ---	contains {zzz, zzzz, zzzzz, zzzzzz}
z{3,} ---	contains {zzz, zzzz, zzzzz, ...}
[Bb]rainf\*\*k ---	contains {Brainf**k, brainf**k}
\d	--- contains {0,1,2,3,4,5,6,7,8,9}
\d{5}(-\d{4})? ---	contains a United States zip code
1\d{10}	--- contains an 11-digit string starting with a 1
[2-9]|[12]\d|3[0-6] ---	contains an integer in the range 2..36 inclusive
Hello\nworld	--- contains Hello followed by a newline followed by world
mi.....ft	--- contains a nine-character (sub)string beginning with mi and ending with ft (Note: depending on context, the dot stands either for â€œany character at allâ€ or â€œany character except a newlineâ€.) Each dot is allowed to match a different character, so both microsoft and minecraft will match.
\d+(\.\d\d)?	--- contains a positive integer or a floating point number with exactly two characters after the decimal point.
[^i*&2@]	--- contains any character other than an i, asterisk, ampersand, 2, or at-sign.
//[^\r\n]*[\r\n]	--- contains a Java or C# slash-slash comment
^dog	--- begins with "dog"
dog$	--- ends with "dog"
^dog$	--- is exactly "dog"

// iÃ§erik sorgulamak iÃ§in kullanÄ±lan sistem...
// iÃ§ereni bulursa true dÃ¶ner yoksa false

        [RegularExpression(@"^[0-9]+(\.[0-9]{{1,2})",ErrorMessage ="Hata alÄ±ndÄ±...")] // @ koyarak \ gibi ifadelerin stringi bozmasÄ±nÄ± engelledik.
        public decimal? Price { get; set; }
        // noktadan sonra maks 2 basamak girilebilir yapar.

...........


        <div class="mb-3">
        <label asp-for="Price" class="form-label">ÃœrÃ¼n fiyat:</label>
        <input class="form-control" asp-for="Price">
        <span class="text-danger" asp-validation-for="Price"></span>
        </div>
  


..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Model/Form Validation ValidationSummary. Form Validation iÅŸlemlerinde kullanÄ±lacak ValidationSummary attribute konusu anlatÄ±lmaktadÄ±r.
validation mesajlarÄ±nÄ± gÃ¶sterirken toplu bir ÅŸekilde nasÄ±l gÃ¶sterebiliriz. hepsinin tek tek altÄ±nda oluyor ama biz hepsini toplu gÃ¶sterebiliriz error mesajlarÄ±.


@{
    ViewData["Title"] = "Add";
}
@model ProductViewModel

<h1>EKLEME</h1>
<div asp-validation-summary="All"> @*tÃ¼m hata mesajlarÄ± burada gÃ¶zÃ¼kecek. ama css'siz bunu kendimiz eklememiz gerekebilir.*@

</div>
@*products add.cshtmlde*@

.........................//ProductsController iÃ§erisi.

asp-validation-summary="ModelOnly" yaparsak bunu herhangi bir textboxa ait olmayan hata mesajÄ± gÃ¶stermek istemezsek eÄŸer o zaman kullanÄ±rÄ±z.

[HttpPost] 
public IActionResult Add(ProductViewModel newProduct) {


                if (!string.IsNullOrEmpty(newProduct.Name) && newProduct.Name.StartsWith("A"))
                {
        ModelState.AddModelError(string.Empty,"ÃœrÃ¼n ismi A harfi ile baÅŸlayamaz..."); // string.Empyt dersek eÄŸer hata mesajÄ± herhangi bir text boxta deÄŸil toplu gÃ¶sterim alanÄ±nda gÃ¶ster demek
                                 //string.Empty yerine  "Name" vs dersek o zaman Name'in text boxunda hatayÄ± gÃ¶sterebilirdik. 
                }

    ............

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Model/Form Validation Custom Hata MesajÄ±. Form Validation iÅŸlemlerinde custom hata mesajlarÄ±nÄ±n nasÄ±l gÃ¶sterileceÄŸi anlatÄ±lmaktadÄ±r.
hata mesajÄ± gÃ¶stereceÄŸiz ve herhangi bir texboxÄ±n validationÄ± deÄŸil uygulamanÄ±n geneli ile alakalÄ± bir hata olabilir.



                try
                {

                    _context.Products.Add(_mapper.Map<Product>(newProduct));

                    _context.SaveChanges();


                    TempData["status"] = "ÃœrÃ¼n baÅŸarÄ± ile eklendi.";


                    return RedirectToAction("Index");

                }
                catch (Exception)
                {

                    ModelState.AddModelError(string.Empty,"ÃœrÃ¼n kaydedilirken hata oldu");
                    // ModelState kÄ±smÄ±na hata mesajÄ± ve hatanÄ±n nerede gÃ¶sterileceÄŸini yazarÄ±z.
                }




@{
    ViewData["Title"] = "Add";
}
@model ProductViewModel

<h1>EKLEME</h1>
<div asp-validation-summary="All"> @*tÃ¼m hata mesajlarÄ± burada gÃ¶zÃ¼kecek.*@


</div>


..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Model/Form Validation Client-Side Validation. Form Validation iÅŸlemlerinde Client Side validation iÅŸleminin nasÄ±l gerÃ§ekleÅŸtirileceÄŸi anlatÄ±lmaktadÄ±r.
client side olursa veriler daha sunucuya gitmeden doÄŸrulama yapÄ±lacak...
her deÄŸer iÃ§in her iÅŸlem iÃ§in serverÄ± yormak mantÄ±klÄ± deÄŸildir. javascript ve html5'in gÃ¼cÃ¼yle bunu servera gitmeden deÄŸerleri kontrol edebiliriz.
shared klasÃ¶rÃ¼nde _ValidationScriptsPartial.cshtml dosyasÄ± var.   iÃ§inde <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script> <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>  iÃ§inde iki tane script dosyasÄ± var.

Add.cshtml'in en altÄ±na ÅŸunu ekledik.


</form> @*en sona veya en baÅŸa _ValidationScriptsPartial.cshtml iÃ§indekileri aÅŸaÄŸÄ±ya aÅŸaÄŸÄ±daki biÃ§imde yerleÅŸtirdik.*@

@section Scripts{

    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>

}

...........
using System.ComponentModel.DataAnnotations;

namespace turkcell1.Web.ViewModels
{
    public class ProductViewModel
    {

        public int Id { get; set; }

        [Required(ErrorMessage ="Ä°sim alanÄ± boÅŸ olamaz.")] // doldurulmasÄ± zorunlu alan olarak belirleriz.
        [StringLength(50,MinimumLength =1,ErrorMessage ="Ä°sim alanÄ± en fazla 50 karakter olur...")]
        public string Name { get; set; }

        [Required(ErrorMessage = "Fiyat alanÄ± boÅŸ olamaz.")] // doldurulmasÄ± zorunlu alan olarak belirleriz.
        [Range(1,1000,ErrorMessage = "Fiyat alanÄ± belli aralÄ±kta olmalÄ±.")]
        [RegularExpression(@"^[0-9]+(\.[0-9]{{1,2})",ErrorMessage ="Hata alÄ±ndÄ±...")] // @ koyarak \ gibi ifadelerin stringi bozmasÄ±nÄ± engelledik.
        public decimal? Price { get; set; }


        [Required(ErrorMessage = "Stok alana boÅŸ olamaz.")] // doldurulmasÄ± zorunlu alan olarak belirleriz.
        [Range(1,200,ErrorMessage = "Stok alana boÅŸ olamaz.")] // belli bir aralÄ±kta olmasÄ±nÄ± saÄŸlarÄ±z baÅŸlangÄ±Ã§ ve bitiÅŸ. ve bu ÅŸartlar saÄŸlnazmasa o zaman gelecek hata mesajÄ±nÄ± belirleriz.
        public int? Stock { get; set; }
        [Required(ErrorMessage = "AÃ§Ä±klama boÅŸ olamaz.")] // doldurulmasÄ± zorunlu alan olarak belirleriz.
        [StringLength(300,MinimumLength =1,ErrorMessage = "AÃ§Ä±klama alanÄ± istenen aralÄ±kta deÄŸil...")]
        public string Description { get; set; }
        [Required(ErrorMessage = "Renk seÃ§imi boÅŸ olamaz.")]
        public string? Color
        {
            get;
            set;
        }

        [Required(ErrorMessage = "YayÄ±nlanma tarihi boÅŸ olamaz.")]
        public DateTime? PublishDate { get; set; } // null olabilir seÃ§eneÄŸi veririz ? ile var olan veriler iÃ§inde null verecek.

        public bool IsPublish { get; set; }

        [Required(ErrorMessage = "yayÄ±nlanma sÃ¼resi boÅŸ olamaz.")]
        public int? Expire { get; set; }


        [EmailAddress(ErrorMessage ="Email geÃ§ersiz.")]
        public string EmailAdress { get; set; }

    }
}
..............

@{
    ViewData["Title"] = "Add";
}
@model ProductViewModel

<h1>EKLEME</h1>
<div asp-validation-summary="All"> @*tÃ¼m hata mesajlarÄ± burada gÃ¶zÃ¼kecek.*@


</div>


<form asp-controller="Products" asp-action="Add" method="post">


    <div class="mb-3">
        <label asp-for="Name" class="form-label">ÃœrÃ¼n ismi:</label>
        <input class="form-control" asp-for="Name">
        <span class = "text-danger" asp-validation-for="Name"></span>
    </div>



        <div class="mb-3">
        <label asp-for="Price" class="form-label">ÃœrÃ¼n fiyat:</label>
        <input class="form-control" asp-for="Price">
        <span class="text-danger" asp-validation-for="Price"></span>
    </div>


    <div class="mb-3">
        <label asp-for="Stock" class="form-label">ÃœrÃ¼n Stok:</label>
        <input type ="number" class="form-control" asp-for="Stock">
        <span class="text-danger" asp-validation-for="Stock"></span>
    </div>


    <div class="mb-3">
     
        @*<label asp-for="Color" class="form-label">ÃœrÃ¼n Renk:</label>
        <input class="form-control" asp-for="Color">
        *@

        <select class="form-select" asp-for="Color" asp-items="@ViewBag.ColorSelect">

            <option value="">Renk seÃ§iniz</option>

        </select>
        <span class="text-danger" asp-validation-for="Color"></span>

    </div>


    <div class="form-check">
        <input class="form-check-input" asp-for="IsPublish">
        <label class="form-check-label" asp-for="IsPublish">
            YayÄ±nlansÄ±n mÄ±?
        </label>
    </div> @*asp-for ile nereye gideceÄŸine karar verdik ve bootstraptan aldÄ±ÄŸÄ±mÄ±z checksleri yerleÅŸtirdik. asp-for ile bir veri giriÅŸi belirlersek o zaten typeÄ±nÄ± otomatik belirliyor. boolean tip olduÄŸunu bilecek. 
    *@



    <div class="mb-3 mt-3"> @*mt-3 ekledik 3 tab boÅŸluk bÄ±rakÄ±r.*@
        <span>ÃœrÃ¼n kaÃ§ ay satÄ±ÅŸta kalacak ?</span>
    @foreach (var item in ViewBag.Expire as Dictionary<string,int>)
    { 

        <div class="form-check">
            <input class="form-check-input" type="radio" id ="@(item.Value)Expire" asp-for="Expire" value="@item.Value"> @*Value deÄŸerini ekledik.*@
                <label class="form-check-label" asp-for="Expire" for="@(item.Value)Expire">
               @item.Key
            </label>
        </div>

    }
        <span class="text-danger" asp-validation-for="Expire"></span>
    </div>

    <div class="form-floating mb-3">
        <textarea asp-for = "Description" class="form-control" placeholder="ÃœrÃ¼n aÃ§Ä±klama" style="height: 100px"></textarea>
        <label asp-for="Description">ÃœrÃ¼n aÃ§Ä±klama</label>
        <span class="text-danger" asp-validation-for="Description"></span>
    </div>



    <div class="mb-3">
        <label asp-for="PublishDate" class="form-label">ÃœrÃ¼n YayÄ±nlanma zamanÄ±:</label>
        <input class="form-control" asp-for="PublishDate">
        <span class="text-danger" asp-validation-for="PublishDate"></span>
    </div>

    @*
    <div class="mb-3">
        <label asp-for="EmailAdress" class="form-label">Email adresi:</label>
        <input class="form-control" asp-for="EmailAdress">
        <span class="text-danger" asp-validation-for="EmailAdress"></span>
    </div>
    *@


    <button type="submit" class="btn btn-primary">ÃœrÃ¼n Kaydet</button> @*class="btn btn-primary" bunu bootstrap sitesinden aldÄ±k mesela ve bunu ekleyerek butona bir tip ekledik.*@

</form>

@section Scripts{

    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>

}

..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Model/Form Validation Remote.Form Validation iÅŸlemlerinde kullanÄ±lacak Remute attribute konusu anlatÄ±lmaktadÄ±r.
Remote ekstra bir metot Ã§alÄ±ÅŸtÄ±rmak istersek eÄŸer o zaman kullandÄ±ÄŸÄ±mÄ±z yapÄ±. mesela bir tc alanÄ±nda bu tcnin olup olmadÄ±ÄŸÄ±nÄ± kontrol eden bir yapÄ±. mesela tc girdik sonra isim girerken o sÄ±rada veritabanÄ± ile haberleÅŸip o sÄ±rada bir uyarÄ± mesajÄ± gÃ¶sterebilir... client tarafta gerÃ§ekleÅŸtirir ve o sÄ±rada veritabanÄ± ile haberleÅŸilir buna ajax teknolojisi denir. 
backende yaparsak sayfa yenilenecek vs remoto bunu ajax teknolojisi ile client tafaÄ±ndayken biz veritabanÄ± ile haberleÅŸerek halleder.

       [AcceptVerbs("GET","POST")] // hem [HttpGet] hem [HttpPost ] olabilir demektir.
       public IActionResult HasProductName(string name)
       {
           var anyProduct = _context.Products.Any(x=> x.Name.ToLower() == name.ToLower()); // .Any() true ya da false dÃ¶ner.
           if (anyProduct)
           {
               return Json("Kaydetmeye Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ±z Ã¼rÃ¼n adÄ± veritabanÄ±nda vardÄ±r.");
           }
           else
           {
               return Json(true);
           }

       }
// bu metotu ekledik ProductsController'a.

sonra ProductViewModel'e geÃ§eriz.
        [Remote(action:"HasProductName",controller:"ProductsController")]
        public string Name { get; set; }
// bÃ¶ylece client tarafta iken haberleÅŸme yapabilecek.



..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Model/Form Validation Update.cshtml .. ÃœrÃ¼n GÃ¼ncelleme sayfasÄ±nÄ±n validation ile tekrardan dÃ¼zenlenmesi anlatÄ±lmaktadÄ±r.

//prodcutcontrollerdeki deÄŸiÅŸimler.

        [HttpGet]
        public IActionResult Update(int id)
        {

            var product = _context.Products.Find(id);
            ViewBag.ExpireValue = product.Expire;
            Dictionary<string, int> Expire = new Dictionary<string, int>()
            {
                { "1 Ay",1},
                { "3 Ay",3},
                { "6 Ay",6},
                { "12 Ay",12}

            };
            ViewBag.Expire = Expire;




            ViewBag.ColorsSelect = new SelectList(new List<ColorSelectList>()
           {
               new () {Data = "Mavi",Value = "Mavi" },
               new () {Data = "KÄ±rmÄ±zÄ±",Value = "KÄ±rmÄ±zÄ±" },
               new () {Data = "SarÄ±",Value = "SarÄ±" }

           }, "Value", "Data",product.Color); // seÃ§ili olanÄ± getirecek.





            return View(_mapper.Map<ProductViewModel>(product));    

        }

        [HttpPost]
        public IActionResult Update(ProductViewModel updateProduct)
        {
            if (ModelState.IsValid)
            {


                ViewBag.ExpireValue = updateProduct.Expire;
                Dictionary<string, int> Expire = new Dictionary<string, int>()
            
            {
            
                { "1 Ay",1},
                { "3 Ay",3},
                { "6 Ay",6},
                { "12 Ay",12}

            };
                ViewBag.Expire = Expire;




                ViewBag.ColorsSelect = new SelectList(new List<ColorSelectList>()
           {
               new () {Data = "Mavi",Value = "Mavi" },
               new () {Data = "KÄ±rmÄ±zÄ±",Value = "KÄ±rmÄ±zÄ±" },
               new () {Data = "SarÄ±",Value = "SarÄ±" }

           }, "Value", "Data", updateProduct.Color); // seÃ§ili olanÄ± getirecek.

                return View();
            }

            _context.Products.Update(_mapper.Map<Product>(updateProduct));
            _context.SaveChanges(); 
            TempData["status"] = "ÃœrÃ¼n baÅŸarÄ± ile gÃ¼ncellendi.";


            return RedirectToAction("Index");

        }

.............Products add.cshtml


@{
    ViewData["Title"] = "Update";
}

@model ProductViewModel

<h1>ÃœrÃ¼n GÃ¼ncelleme</h1>

<form asp-controller="Products" asp-action="update" method="post">

    <input type="hidden" asp-for="Id"/> @*hidden ile gÃ¶nderdik ki id alanÄ±da dolsun yoksa hata alÄ±rÄ±z hangi id'de Ã¼rÃ¼nÃ¼ gÃ¼ncelleyeceÄŸiz bilemeyeiz.*@


    <div class="mb-3">
        <label asp-for="Name" class="form-label">ÃœrÃ¼n ismi:</label>
        <input class="form-control" asp-for="Name">
        <span class = "text-danger"asp-validation-for="Name"></span>
    </div>


    <div class="mb-3">
        <label asp-for="Price" class="form-label">ÃœrÃ¼n fiyat:</label>
        <input class="form-control" asp-for="Price"> 
        <span class="text-danger" asp-validation-for="Price"></span>

    </div>


    <div class="mb-3">
        <label asp-for="Stock" class="form-label">ÃœrÃ¼n Stok:</label>
        <input type="" class="form-control" asp-for="Stock">
        <span class="text-danger" asp-validation-for="Stock"></span>

    </div>


    <div class="mb-3">

        <select class="form-select" asp-for="Color" asp-items="@ViewBag.ColorSelect">

            <option value="">Renk seÃ§iniz</option>

        </select>
        <span class="text-danger" asp-validation-for="Color"></span>

    </div>


    <div class="form-check">
        <input class="form-check-input" asp-for="IsPublish">
        <label class="form-check-label" asp-for="IsPublish">
            YayÄ±nlansÄ±n mÄ±?
        </label>
    </div> 



    <div class="mb-3 mt-3">
        
        <span>ÃœrÃ¼n kaÃ§ ay satÄ±ÅŸta kalacak ?</span>
        @foreach (var item in ViewBag.Expire as Dictionary<string, int>)
        {
            <div class="form-check">


            @if (item.Value == ViewBag.ExpireValue)
            {
                    <input checked = "checked" class="form-check-input" type="radio" id="@(item.Value)Expire" asp-for="Expire" value="@item.Value">
                }
                else
                {
                    <input class="form-check-input" type="radio" id="@(item.Value)Expire" asp-for="Expire" value="@item.Value">
                }

                <label class="form-check-label" asp-for="Expire" for="@(item.Value)Expire">
                    @item.Key
                </label>

            </div>


                
                

        }
        <span class="text-danger" asp-validation-for="Expire"></span>

    </div>

    <div class="form-floating mb-3">
        <textarea asp-for="Description" class="form-control" placeholder="ÃœrÃ¼n aÃ§Ä±klama" style="height: 100px"></textarea>
        <label asp-for="Description">ÃœrÃ¼n aÃ§Ä±klama</label>
    </div>



    <div class="mb-3">
        <label asp-for="PublishDate" class="form-label">ÃœrÃ¼n YayÄ±nlanma zamanÄ±:</label>
        <input class="form-control" asp-for="PublishDate">
        <span class="text-danger" asp-validation-for="PublishDate"></span>
    </div>


    <button type="submit" class="btn btn-primary">ÃœrÃ¼n GÃ¼ncelle</button> 


</form>

@section Scripts{

    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>

}
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Partial View /View Component.
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Partial View Model Binding 1.AÅŸama. Partial View'lere model binding iÅŸleminin nasÄ±l yapÄ±lacaÄŸÄ± anlatÄ±lmaktadÄ±r...
partial viewler birer cshtml dosyasÄ±dÄ±r... bir layout kullanmazlar. bir uygulamamÄ±zÄ±n bir Ã§ok yerinden kullanÄ±dÄ±ÄŸÄ±mÄ±z ÅŸeyleri tekrarlamamÄ±zÄ± Ã¶nler. 

partial viewler iÃ§in ayrÄ± dosya aÃ§tÄ±k partialViews adÄ±nda.

biz ÅŸimdi tÃ¼m verileri alÄ±p gÃ¶steren bir partialView tablosu yapacaÄŸÄ±z verileri iÃ§eren bir tablo olacak.


// bir class oluÅŸturduk... PartialViews klasÃ¶rÃ¼nde.
using System;

namespace turkcell1.Web.PartialViews
{
    public class ProductListPartialViewModel
    {
        public List<ProductPartialViewModel> Products { get; set; } // bir sÄ±nÄ±f ile wrapladÄ±m. sonradan baÅŸka ÅŸeyler ekleyebiliriz.


    }
    public class ProductPartialViewModel
    {
        public int Id { get; set; }
        public string Name { get; set; }
        public decimal Price { get; set; }
        public int Stock { get; set;}



    }


}


.......// _ProductListPartialView.cshtml iÃ§erisi.
@using turkcell1.Web.PartialViews
@model ProductListPartialViewModel

<table class="table table-success table-striped">


    <thead>
        <tr>
            <th>ID</th>
            <th>Ä°SÄ°M</th>
            <th>FÄ°YAT</th>
            <th>STOK</th>



        </tr>

    </thead>

    <tbody>

        @foreach(var item in Model.Products)
        {
            
            <tr>

                <td>@item.Id</td>
                <td>@item.Name</td>
                <td>@item.Price</td>
                <td>@item.Stock</td>

            </tr>

        }



    </tbody>


</table>
........... ÅŸimdi listeleme iÅŸi yapacaÄŸÄ±z.

    public class HomeController : Controller
    {


        private readonly AppDbContext _context;
        private readonly ILogger<HomeController> _logger;

        public HomeController(ILogger<HomeController> logger, AppDbContext appDbContext)
        {

            _logger = logger;
            _context = appDbContext;
        
        }

        public IActionResult Index()
        {
            var products = _context.Products.OrderByDescending(x=>x.Id).Select(x=>new ProductPartialViewModel(){

                Id = x.Id,
                Name = x.Name,
                Price = x.Price,
                Stock = x.Stock,


            });
            ViewBag.productListPartialViewModel = new ProductListPartialViewModel()
            {
                Products = products.ToList(),
            };
            return View();
        }

// Home controllere ekleme yaptÄ±k.

HomeController'Ä±n index.cshtml'i...

<partial name="~~/PartialViews/_ProductListPartialView.cshtml" model="@ViewBag" /> @*~~ kÃ¶k klasÃ¶rdÃ¼r.*@
@*bunu ekledik shared iÃ§inde olmadÄ±ÄŸÄ± iÃ§in ~~ ve yol olarak verdik. Ve model ViewBag ile taÅŸÄ±dÄ±k onu veririz.*@

.............
<div class="row">
    <div class="col-md-4">

<partial name="~~/PartialViews/_ProductListPartialView.cshtml" model="@ViewBag" /> @*~~ kÃ¶k klasÃ¶rdÃ¼r.*@

    </div>


</div>
bootstrap default olarak bir sayfayÄ± 12 bÃ¶lgeye ayÄ±rÄ±r. yatay olarak 12 tane Ã§izgi ile 12 parÃ§aya bÃ¶lÃ¼nmÃ¼ÅŸtÃ¼r. biz col-md-4 ile 4 parÃ§asÄ±nÄ± kullanÄ±r olduk.

 
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
View Component.
yapÄ± itibarÄ± ile partialView ile aynÄ±dÄ±r neredeyse. tekrar tekrar kod yazmaktan kurtarÄ±r bizi. sayfalarÄ± merkezi bir yerde toplar.
partialViewlere ihtiyaÃ§ duyduklarÄ± datalarÄ± dÄ±ÅŸarÄ±dan veririz.
view componentlerin kendi classlarÄ± var kendi cs. dosyalarÄ± var verileri kendi iÃ§indeki class'tan gelecek.
partialView'den farkÄ± yok sadece ihtiyaÃ§ duyacaÄŸÄ± datayÄ± kendi class'Ä±ndan alÄ±r.

Shared klasorunde ViewComponents adÄ±nda bir klasÃ¶r oluÅŸturduk. bunun iÃ§inde classlarÄ±mÄ±z olacak.
sonra ise shared iÃ§erisinde Components adÄ±nda bir klasor oluÅŸturduk. bunun iÃ§inde ise cshtml dosyalarÄ± olacak.
bu sistemin sayesinde controllerler iÃ§erisinde bussiness kod yazmamÄ±za gerek kalmayacak.
..........

ViewComponents klasorunde ProductListViewComponent isminde bir class oluÅŸturduk ViewComponent ile bitmesi ÅŸart Ã§aÄŸÄ±rÄ±rken ProductList olarak Ã§aÄŸÄ±rÄ±caz. ViewComponent asp tarafÄ±ndan silinecek ve ona gÃ¶re iÅŸlem yapacak.
            // sadece isim ve aÃ§Ä±klama istiyorum. onun iÃ§in ViewModel klasÃ¶rÃ¼nde bir class oluÅŸtururuz.
 namespace turkcell1.Web.ViewModels
{

    public class ProductListComponentViewModel
    {
        public string Name {  get; set; } 
        public string Description { get; set; }

    }
}
.........
using Microsoft.AspNetCore.Mvc;
using turkcell1.Web.Models;
using turkcell1.Web.ViewModels;

namespace turkcell1.Web.Views.Shared.ViewComponents
{
    public class ProductListViewComponent:ViewComponent
    {

        private readonly AppDbContext _context;

        public ProductListViewComponent(AppDbContext context)
        {
            _context = context;
            
        }

        public async Task<IViewComponentResult> InvokeAsync()
        {
            // sadece isim ve aÃ§Ä±klama istiyorum.
            var viewmodes = _context.Products.Select(x=>new ProductListComponentViewModel()
            {

                Name = x.Name,
                Description = x.Description,

            }).ToList();

            return View(viewmodes);


        }






    }
}
................cs.html kÄ±smÄ±nÄ± kodlama.
Components klasoru iÃ§erisinde bir klasÃ¶r daha oluÅŸturduk. ProductList isminde. ProductListViewComponent ismindeki class'a gÃ¶re yaptÄ±k bu isimlendirmeyi. ViewComponent'i atarak isimlendirdik.
ProductList klasÃ¶rÃ¼nde add view dedik razor viewi seÃ§tik dosyanÄ±n adÄ±nÄ± Default.cshmtl koyduk ve create as Partial View ÅŸÄ±kkÄ±nÄ± iÅŸaretledik.

.............
@model List<ProductListComponentViewModel>



<table class="table table-success table-striped">


    <thead>
        <tr>
            <th>Ä°SÄ°M</th>
            <th>AÃ‡IKLAMA</th>

        </tr>

    </thead>

    <tbody>

        @foreach(var item in Model)
        {
            
            <tr>

                <td>@item.Name</td>
                <td>@item.Description</td>


            </tr>

        }

    </tbody>


</table>

..............Home klasÃ¶rÃ¼ index sayfasÄ±..

@{
    ViewData["Title"] = "Home Page";
}



@section Css{


    <style>

    </style>
}


@section Scripts{



    0
}
<div class="row">
    <div class="col-md-4">

<partial name="~~/PartialViews/_ProductListPartialView.cshtml" model="@ViewBag" /> @*~~ kÃ¶k klasÃ¶rdÃ¼r.*@

    </div>

    <div class="col-md-4">
        @await  Component.InvokeAsync("ProductList") @*asenkron metot olduÄŸu iÃ§in.  iÃ§erideki isim ViewComponent atÄ±lmÄ±ÅŸ hali olmalÄ±. EKLEME BURADA YAPILDI tablonun yanÄ±na tablo ekledik.*@ 
    </div>
</div>

.....................View Component'leri sayfalarda tag helper yardÄ±mÄ± ile nasÄ±l ekleneceÄŸi anlatÄ±lmaktadÄ±r.
Shared-components-productList klasÃ¶rÃ¼ iÃ§ine type2 adÄ±nda bir cshtl ekledik new item razor page ile ekledik.

@model List<ProductListComponentViewModel>


<a class = "btn btn-outline-primary" asp-controller="products" asp-action="index">ÃœRÃœNLERE GÄ°T</a> @*bir tag helper ile bir sayfaya yÃ¶nlerdirme yapabildik.*@
<table class="table table-success table-striped">


    <thead>
        <tr>
            <th>Ä°SÄ°M</th>
            <th>AÃ‡IKLAMA</th>

        </tr>

    </thead>

    <tbody>

        @foreach (var item in Model)
        {

            <tr>

                <td>@item.Name</td>
                <td>@item.Description</td>


            </tr>

        }

    </tbody>


</table>
......... sonra ise ProductListViewComponent classÄ±nÄ± deÄŸiÅŸtirdik.

using Microsoft.AspNetCore.Mvc;
using turkcell1.Web.Models;
using turkcell1.Web.ViewModels;

namespace turkcell1.Web.Views.Shared.ViewComponents
{
    public class ProductListViewComponent:ViewComponent
    {

        private readonly AppDbContext _context;

        public ProductListViewComponent(AppDbContext context)
        {
            _context = context;
            
        }

        public async Task<IViewComponentResult> InvokeAsync(int type = 1) // default deÄŸer 1
        {

            // sadece isim ve aÃ§Ä±klama istiyorum.
            var viewmodels = _context.Products.Select(x=>new ProductListComponentViewModel()
            {

                Name = x.Name,
                Description = x.Description,

            }).ToList();

            if (type == 1)
            {
                return View("Default",viewmodels);

            }
            else
            {
                return View("Type2", viewmodels);    
            }


        }






    }
}
.......... sonra ise Home'de ki index sayfasÄ±nda deÄŸiÅŸim yaptÄ±k.
@{
    ViewData["Title"] = "Home Page";
}



@section Css{


    <style>

    </style>
}


@section Scripts{



    0
}
<div class="row">
    <div class="col-md-4">

<partial name="~~/PartialViews/_ProductListPartialView.cshtml" model="@ViewBag" /> @*~~ kÃ¶k klasÃ¶rdÃ¼r.*@

    </div>

    <div class="col-md-4">
        @await  Component.InvokeAsync("ProductList",new {Type = 1}) @*asenkron metot olduÄŸu iÃ§in.  iÃ§erideki isim ViewComponent atÄ±lmÄ±ÅŸ hali olmalÄ±. *@ 
    </div>
</div>
.................
ViewComponent istenen verileri gÃ¶nderirsek onlarÄ± kullanabiliriz. PartialViewden ayrÄ±lan kÄ±smÄ± odur genel olarak.
.............



..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................




..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................




..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................



..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................